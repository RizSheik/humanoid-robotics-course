<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-module-3-digital-twin-simulation/chapter-3" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Chapter 3: Unity - Visualization-Rich Simulation Environments | Physical AI &amp; Humanoid Robotics — AI Systems in the Physical World</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://rizsheik.github.io/humanoid-robotics-course/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://rizsheik.github.io/humanoid-robotics-course/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://rizsheik.github.io/humanoid-robotics-course/docs/module-3-digital-twin-simulation/chapter-3"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Chapter 3: Unity - Visualization-Rich Simulation Environments | Physical AI &amp; Humanoid Robotics — AI Systems in the Physical World"><meta data-rh="true" name="description" content="Learning Objectives"><meta data-rh="true" property="og:description" content="Learning Objectives"><link data-rh="true" rel="icon" href="/humanoid-robotics-course/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://rizsheik.github.io/humanoid-robotics-course/docs/module-3-digital-twin-simulation/chapter-3"><link data-rh="true" rel="alternate" href="https://rizsheik.github.io/humanoid-robotics-course/docs/module-3-digital-twin-simulation/chapter-3" hreflang="en"><link data-rh="true" rel="alternate" href="https://rizsheik.github.io/humanoid-robotics-course/docs/module-3-digital-twin-simulation/chapter-3" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Module 3: Digital Twin Simulation","item":"https://rizsheik.github.io/humanoid-robotics-course/docs/module-3-digital-twin-simulation"},{"@type":"ListItem","position":2,"name":"Chapter 3: Unity - Visualization-Rich Simulation Environments","item":"https://rizsheik.github.io/humanoid-robotics-course/docs/module-3-digital-twin-simulation/chapter-3"}]}</script><link rel="stylesheet" href="/humanoid-robotics-course/assets/css/styles.50e26d9c.css">
<script src="/humanoid-robotics-course/assets/js/runtime~main.35d49065.js" defer="defer"></script>
<script src="/humanoid-robotics-course/assets/js/main.fd6351d5.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/humanoid-robotics-course/img/robot-head.svg"><link rel="preload" as="image" href="../../../img/book-image/Illustration_explaining_Physical_AI_huma_1 (1).jpg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/humanoid-robotics-course/"><div class="navbar__logo"><img src="/humanoid-robotics-course/img/robot-head.svg" alt="Humanoid Robotics Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/humanoid-robotics-course/img/robot-head.svg" alt="Humanoid Robotics Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Physical AI &amp; Humanoid Robotics</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/humanoid-robotics-course/docs/intro">Textbook Modules</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/RizSheik/humanoid-robotics-course" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/humanoid-robotics-course/docs/intro"><span title="Introduction to Humanoid Robotics" class="linkLabel_WmDU">Introduction to Humanoid Robotics</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/humanoid-robotics-course/docs/module-1-physical-ai-foundations"><span title="Module 1: Physical AI Foundations" class="categoryLinkLabel_W154">Module 1: Physical AI Foundations</span></a><button aria-label="Expand sidebar category &#x27;Module 1: Physical AI Foundations&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/humanoid-robotics-course/docs/module-2-ros-2-fundamentals"><span title="Module 2: ROS 2 Fundamentals" class="categoryLinkLabel_W154">Module 2: ROS 2 Fundamentals</span></a><button aria-label="Expand sidebar category &#x27;Module 2: ROS 2 Fundamentals&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/humanoid-robotics-course/docs/module-3-digital-twin-simulation"><span title="Module 3: Digital Twin Simulation" class="categoryLinkLabel_W154">Module 3: Digital Twin Simulation</span></a><button aria-label="Collapse sidebar category &#x27;Module 3: Digital Twin Simulation&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/humanoid-robotics-course/docs/module-3-digital-twin-simulation/overview"><span title="Module 3: Digital Twin Simulation - Gazebo, Unity, and Isaac Sim Environments" class="linkLabel_WmDU">Module 3: Digital Twin Simulation - Gazebo, Unity, and Isaac Sim Environments</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/humanoid-robotics-course/docs/module-3-digital-twin-simulation/chapter-1"><span title="Chapter 1: Introduction to Digital Twin Technology and Simulation Environments" class="linkLabel_WmDU">Chapter 1: Introduction to Digital Twin Technology and Simulation Environments</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/humanoid-robotics-course/docs/module-3-digital-twin-simulation/chapter-2"><span title="Chapter 2: Gazebo Harmonic - Physics-Based Simulation" class="linkLabel_WmDU">Chapter 2: Gazebo Harmonic - Physics-Based Simulation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/humanoid-robotics-course/docs/module-3-digital-twin-simulation/chapter-3"><span title="Chapter 3: Unity - Visualization-Rich Simulation Environments" class="linkLabel_WmDU">Chapter 3: Unity - Visualization-Rich Simulation Environments</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/humanoid-robotics-course/docs/module-3-digital-twin-simulation/chapter-4"><span title="Chapter 4: Isaac Sim - AI-Powered Robotics Simulation" class="linkLabel_WmDU">Chapter 4: Isaac Sim - AI-Powered Robotics Simulation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/humanoid-robotics-course/docs/module-3-digital-twin-simulation/deep-dive"><span title="Module 3: Deep Dive - Advanced Digital Twin Simulation Techniques" class="linkLabel_WmDU">Module 3: Deep Dive - Advanced Digital Twin Simulation Techniques</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/humanoid-robotics-course/docs/module-3-digital-twin-simulation/practical-lab"><span title="Module 3: Practical Lab - Digital Twin Simulation Environments" class="linkLabel_WmDU">Module 3: Practical Lab - Digital Twin Simulation Environments</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/humanoid-robotics-course/docs/module-3-digital-twin-simulation/simulation"><span title="Module 3: Simulation - Digital Twin Environments for Robotics" class="linkLabel_WmDU">Module 3: Simulation - Digital Twin Environments for Robotics</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/humanoid-robotics-course/docs/module-3-digital-twin-simulation/assignment"><span title="Module 3: Assignment - Digital Twin Simulation Environments for Robotics" class="linkLabel_WmDU">Module 3: Assignment - Digital Twin Simulation Environments for Robotics</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/humanoid-robotics-course/docs/module-3-digital-twin-simulation/quiz"><span title="Module 3: Quiz - Digital Twin Simulation: Gazebo, Unity, and Isaac Sim Environments" class="linkLabel_WmDU">Module 3: Quiz - Digital Twin Simulation: Gazebo, Unity, and Isaac Sim Environments</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/humanoid-robotics-course/docs/module-4-ai-robot-brain"><span title="Module 4: AI Robot Brain" class="categoryLinkLabel_W154">Module 4: AI Robot Brain</span></a><button aria-label="Expand sidebar category &#x27;Module 4: AI Robot Brain&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/humanoid-robotics-course/docs/capstone-the-autonomous-humanoid"><span title="Capstone: The Autonomous Humanoid" class="categoryLinkLabel_W154">Capstone: The Autonomous Humanoid</span></a><button aria-label="Expand sidebar category &#x27;Capstone: The Autonomous Humanoid&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/humanoid-robotics-course/docs/appendices"><span title="Appendices" class="categoryLinkLabel_W154">Appendices</span></a><button aria-label="Expand sidebar category &#x27;Appendices&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/humanoid-robotics-course/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/humanoid-robotics-course/docs/module-3-digital-twin-simulation"><span>Module 3: Digital Twin Simulation</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Chapter 3: Unity - Visualization-Rich Simulation Environments</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Chapter 3: Unity - Visualization-Rich Simulation Environments</h1></header>
<div class="robotDiagram"><img src="../../../img/book-image/Illustration_explaining_Physical_AI_huma_1 (1).jpg" alt="Humanoid Robot" style="border-radius:50px;width:900px;height:350px;margin:10px auto;display:block"></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="learning-objectives">Learning Objectives<a href="#learning-objectives" class="hash-link" aria-label="Direct link to Learning Objectives" title="Direct link to Learning Objectives" translate="no">​</a></h2>
<p>After completing this chapter, students will be able to:</p>
<ul>
<li class="">Set up and configure Unity simulation environments for robotics</li>
<li class="">Create realistic visual environments with accurate physics</li>
<li class="">Implement sensor simulations with Unity&#x27;s rendering pipeline</li>
<li class="">Develop custom robotics assets and environments in Unity</li>
<li class="">Integrate Unity simulations with ROS 2 communication systems</li>
<li class="">Optimize Unity environments for real-time robotics simulation</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="31-introduction-to-unity-for-robotics">3.1 Introduction to Unity for Robotics<a href="#31-introduction-to-unity-for-robotics" class="hash-link" aria-label="Direct link to 3.1 Introduction to Unity for Robotics" title="Direct link to 3.1 Introduction to Unity for Robotics" translate="no">​</a></h2>
<p>Unity has emerged as a powerful platform for creating visualization-rich simulation environments for robotics, particularly for applications requiring high-fidelity graphics, photorealistic rendering, or complex environmental scenarios. Originally developed for game development, Unity&#x27;s real-time rendering capabilities, extensive asset ecosystem, and physics engine make it suitable for simulating robotic perception, human-robot interaction, and complex environments.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="311-unity-in-the-robotics-context">3.1.1 Unity in the Robotics Context<a href="#311-unity-in-the-robotics-context" class="hash-link" aria-label="Direct link to 3.1.1 Unity in the Robotics Context" title="Direct link to 3.1.1 Unity in the Robotics Context" translate="no">​</a></h3>
<p>Unity provides several advantages for robotics simulation:</p>
<ul>
<li class=""><strong>Photorealistic Rendering</strong>: Essential for training computer vision algorithms</li>
<li class=""><strong>Extensive Asset Library</strong>: Thousands of pre-made models and environments</li>
<li class=""><strong>Flexible Scripting System</strong>: Using C# for custom robot behaviors</li>
<li class=""><strong>Physics Engine</strong>: Built-in physics simulation with configurable parameters</li>
<li class=""><strong>Cross-Platform Support</strong>: Deploy to various hardware configurations</li>
<li class=""><strong>User Interaction</strong>: Natural interfaces for human-in-the-loop scenarios</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="312-unity-vs-other-simulation-platforms">3.1.2 Unity vs Other Simulation Platforms<a href="#312-unity-vs-other-simulation-platforms" class="hash-link" aria-label="Direct link to 3.1.2 Unity vs Other Simulation Platforms" title="Direct link to 3.1.2 Unity vs Other Simulation Platforms" translate="no">​</a></h3>
<table><thead><tr><th>Aspect</th><th>Unity</th><th>Gazebo</th><th>Other Platforms</th></tr></thead><tbody><tr><td>Rendering Quality</td><td>High</td><td>Moderate</td><td>Varies</td></tr><tr><td>Physics Accuracy</td><td>Good</td><td>Excellent</td><td>Varies</td></tr><tr><td>Sensor Simulation</td><td>Good*</td><td>Excellent</td><td>Good</td></tr><tr><td>Realism</td><td>High</td><td>Moderate</td><td>Varies</td></tr><tr><td>Asset Creation</td><td>Easy</td><td>Complex</td><td>Varies</td></tr><tr><td>Development Speed</td><td>Fast</td><td>Moderate</td><td>Varies</td></tr></tbody></table>
<p>*Unity sensors require custom implementation but can achieve high fidelity</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="313-unity-robotics-ecosystem">3.1.3 Unity Robotics Ecosystem<a href="#313-unity-robotics-ecosystem" class="hash-link" aria-label="Direct link to 3.1.3 Unity Robotics Ecosystem" title="Direct link to 3.1.3 Unity Robotics Ecosystem" translate="no">​</a></h3>
<p>Unity provides several tools for robotics applications:</p>
<ul>
<li class=""><strong>Unity Robotics Hub</strong>: Centralized access to robotics packages and samples</li>
<li class=""><strong>Unity ML-Agents</strong>: For reinforcement learning applications</li>
<li class=""><strong>ROS#</strong>: For ROS/ROS 2 communication</li>
<li class=""><strong>Unity Perception</strong>: For generating synthetic training data</li>
<li class=""><strong>Open Source Robotics (OSR) Integration</strong>: For standardized interfaces</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="32-setting-up-unity-for-robotics-simulation">3.2 Setting Up Unity for Robotics Simulation<a href="#32-setting-up-unity-for-robotics-simulation" class="hash-link" aria-label="Direct link to 3.2 Setting Up Unity for Robotics Simulation" title="Direct link to 3.2 Setting Up Unity for Robotics Simulation" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="321-system-requirements">3.2.1 System Requirements<a href="#321-system-requirements" class="hash-link" aria-label="Direct link to 3.2.1 System Requirements" title="Direct link to 3.2.1 System Requirements" translate="no">​</a></h3>
<p>To run Unity effectively for robotics simulation:</p>
<ul>
<li class=""><strong>OS</strong>: Windows 10+, macOS 10.14+, or Ubuntu 18.04+</li>
<li class=""><strong>CPU</strong>: 64-bit processor with SSE2 support</li>
<li class=""><strong>Memory</strong>: 8GB+ RAM (16GB+ recommended for complex scenes)</li>
<li class=""><strong>GPU</strong>: DirectX 10 or OpenGL 3.3+ compatible graphics card</li>
<li class=""><strong>Storage</strong>: 20GB+ free space for Unity installation and projects</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="322-installation-process">3.2.2 Installation Process<a href="#322-installation-process" class="hash-link" aria-label="Direct link to 3.2.2 Installation Process" title="Direct link to 3.2.2 Installation Process" translate="no">​</a></h3>
<ol>
<li class="">Download Unity Hub from Unity&#x27;s website</li>
<li class="">Install Unity Hub and create an account</li>
<li class="">Use Unity Hub to install Unity version 2021.3 LTS or later (recommended for stability)</li>
<li class="">Install required modules: Windows/Linux/Mac Build Support, Visual Studio integration</li>
<li class="">Install Unity robotics packages via Package Manager</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="323-recommended-packages">3.2.3 Recommended Packages<a href="#323-recommended-packages" class="hash-link" aria-label="Direct link to 3.2.3 Recommended Packages" title="Direct link to 3.2.3 Recommended Packages" translate="no">​</a></h3>
<p>For robotics applications, install these packages:</p>
<ul>
<li class=""><strong>ROS-TCP-Connector</strong>: For ROS/ROS 2 communication</li>
<li class=""><strong>Unity Perception</strong>: For synthetic data generation</li>
<li class=""><strong>Open Robotics Integration</strong>: Standardized interfaces</li>
<li class=""><strong>Universal Render Pipeline (URP)</strong>: For optimized rendering</li>
<li class=""><strong>XR Toolkit</strong>: If developing VR/AR applications</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="33-creating-robot-models-in-unity">3.3 Creating Robot Models in Unity<a href="#33-creating-robot-models-in-unity" class="hash-link" aria-label="Direct link to 3.3 Creating Robot Models in Unity" title="Direct link to 3.3 Creating Robot Models in Unity" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="331-importing-robot-models">3.3.1 Importing Robot Models<a href="#331-importing-robot-models" class="hash-link" aria-label="Direct link to 3.3.1 Importing Robot Models" title="Direct link to 3.3.1 Importing Robot Models" translate="no">​</a></h3>
<p>Unity can import robot models from various formats:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Example of importing and setting up a robot model</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class RobotModelSetup : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Robot Configuration&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public string robotName;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Vector3 initialPosition = Vector3.zero;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Quaternion initialRotation = Quaternion.identity;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Joint Configuration&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Transform[] jointTransforms;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public string[] jointNames;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float[] jointLimitsMin;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float[] jointLimitsMax;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SetupRobot();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void SetupRobot()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Position and orient the robot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        transform.position = initialPosition;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        transform.rotation = initialRotation;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Configure joints (simplified example)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ConfigureJoints();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void ConfigureJoints()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (int i = 0; i &lt; jointTransforms.Length; i++)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Add joint constraints using configurable joints</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            var joint = jointTransforms[i].GetComponent&lt;ConfigurableJoint&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (joint != null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // Configure joint limits based on real robot specifications</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                joint.angularXLimit = new SoftJointLimit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    limit = jointLimitsMax[i]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                joint.angularXDrive = new JointDrive</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    positionSpring = 10000f, // Stiffness</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    positionDamper = 100f   // Damping</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="332-physics-configuration-for-robots">3.3.2 Physics Configuration for Robots<a href="#332-physics-configuration-for-robots" class="hash-link" aria-label="Direct link to 3.3.2 Physics Configuration for Robots" title="Direct link to 3.3.2 Physics Configuration for Robots" translate="no">​</a></h3>
<p>Configuring physics properties for realistic robot behavior:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Physics configuration script for robot parts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[RequireComponent(typeof(Rigidbody))]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class RobotPhysicsConfig : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Physics Properties&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float mass = 1.0f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public PhysicMaterial physicMaterial;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Drag Settings&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float drag = 0.1f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float angularDrag = 0.05f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Collision Settings&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public bool useInterpolation = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public CollisionDetectionMode collisionDetectionMode = CollisionDetectionMode.ContinuousDynamic;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SetupPhysics();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void SetupPhysics()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Rigidbody rb = GetComponent&lt;Rigidbody&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        rb.mass = mass;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        rb.drag = drag;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        rb.angularDrag = angularDrag;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        rb.interpolation = useInterpolation ? RigidbodyInterpolation.Interpolate : RigidbodyInterpolation.None;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        rb.collisionDetectionMode = collisionDetectionMode;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Assign physic material if specified</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (physicMaterial != null &amp;&amp; GetComponent&lt;Collider&gt;() != null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            GetComponent&lt;Collider&gt;().material = physicMaterial;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="333-animation-and-joint-control">3.3.3 Animation and Joint Control<a href="#333-animation-and-joint-control" class="hash-link" aria-label="Direct link to 3.3.3 Animation and Joint Control" title="Direct link to 3.3.3 Animation and Joint Control" translate="no">​</a></h3>
<p>Creating systems for robot joint control and animation:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Joint controller for Unity robot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class RobotJointController : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [System.Serializable]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public class JointConfig</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public string jointName;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public Transform jointTransform;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public float minAngle = -90f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public float maxAngle = 90f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public float currentAngle;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public float targetAngle;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public float maxSpeed = 100f; // degrees per second</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public JointConfig[] joints;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public bool usePhysics = false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Update()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        UpdateJoints();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void UpdateJoints()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (int i = 0; i &lt; joints.Length; i++)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            var joint = joints[i];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Move toward target angle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            joint.currentAngle = Mathf.MoveTowards(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                joint.currentAngle, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                joint.targetAngle, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                joint.maxSpeed * Time.deltaTime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Apply rotation (assuming rotation around Y axis)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Vector3 rotation = joint.jointTransform.localEulerAngles;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            rotation.y = joint.currentAngle;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            joint.jointTransform.localEulerAngles = rotation;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Method to set joint target angles</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void SetJointTarget(int jointIndex, float angle)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (jointIndex &gt;= 0 &amp;&amp; jointIndex &lt; joints.Length)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            joints[jointIndex].targetAngle = Mathf.Clamp(angle, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                joints[jointIndex].minAngle, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                joints[jointIndex].maxAngle);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Method to get current joint angles</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float GetJointAngle(int jointIndex)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (jointIndex &gt;= 0 &amp;&amp; jointIndex &lt; joints.Length)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return joints[jointIndex].currentAngle;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return 0f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="34-environment-design-and-physics">3.4 Environment Design and Physics<a href="#34-environment-design-and-physics" class="hash-link" aria-label="Direct link to 3.4 Environment Design and Physics" title="Direct link to 3.4 Environment Design and Physics" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="341-creating-realistic-environments">3.4.1 Creating Realistic Environments<a href="#341-creating-realistic-environments" class="hash-link" aria-label="Direct link to 3.4.1 Creating Realistic Environments" title="Direct link to 3.4.1 Creating Realistic Environments" translate="no">​</a></h3>
<p>Unity excels at creating photorealistic environments for robotics training:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Environment setup script</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class EnvironmentSetup : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Environment Configuration&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Material[] environmentMaterials;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public GameObject[] environmentalObjects;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Lighting Setup&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Light mainLight;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float lightIntensity = 1.0f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Color lightColor = Color.white;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Physics Environment&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public PhysicMaterial groundMaterial;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float gravityMultiplier = 1.0f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SetupEnvironment();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void SetupEnvironment()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Configure lighting</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (mainLight != null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            mainLight.intensity = lightIntensity;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            mainLight.color = lightColor;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Add realistic shadows</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            mainLight.shadows = LightShadows.Soft;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Apply environment materials</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        foreach (var material in environmentMaterials)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Apply environmental properties</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (material != null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // Set up material properties for physics simulation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // (This would be more complex in a real implementation)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Configure physics environment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Physics.gravity *= gravityMultiplier;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Apply ground material to floor objects</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ApplyGroundMaterial();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void ApplyGroundMaterial()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        GameObject[] floors = GameObject.FindGameObjectsWithTag(&quot;Floor&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        foreach (GameObject floor in floors)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Collider floorCollider = floor.GetComponent&lt;Collider&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (floorCollider != null &amp;&amp; groundMaterial != null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                floorCollider.material = groundMaterial;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="342-physics-simulation-parameters">3.4.2 Physics Simulation Parameters<a href="#342-physics-simulation-parameters" class="hash-link" aria-label="Direct link to 3.4.2 Physics Simulation Parameters" title="Direct link to 3.4.2 Physics Simulation Parameters" translate="no">​</a></h3>
<p>Configuring Unity&#x27;s physics system for robotics simulation:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Physics configuration for robotics simulation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class RoboticsPhysicsConfig : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Physics Settings&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public int solverIterations = 6;           // Higher for stable joints</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public int solverVelocityIterations = 1;   // Higher for stable contacts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float sleepThreshold = 0.005f;      // Lower to detect small movements</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float defaultContactOffset = 0.01f; // Small for accurate contacts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float bounceThreshold = 2f;         // Threshold for bouncing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float defaultSolverVelocityIterations = 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ConfigurePhysics();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void ConfigurePhysics()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Physics.defaultSolverIterations = solverIterations;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Physics.defaultSolverVelocityIterations = solverVelocityIterations;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Physics.sleepThreshold = sleepThreshold;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Physics.defaultContactOffset = defaultContactOffset;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Physics.bounceThreshold = bounceThreshold;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="343-terrain-and-complex-environments">3.4.3 Terrain and Complex Environments<a href="#343-terrain-and-complex-environments" class="hash-link" aria-label="Direct link to 3.4.3 Terrain and Complex Environments" title="Direct link to 3.4.3 Terrain and Complex Environments" translate="no">​</a></h3>
<p>Creating complex outdoor environments:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Terrain configuration script</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[RequireComponent(typeof(Terrain))]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class TerrainConfig : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Terrain Properties&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float terrainScale = 100f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public PhysicMaterial terrainMaterial;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Texture2D[] terrainTextures;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float[] textureScales;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ConfigureTerrain();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void ConfigureTerrain()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Terrain terrain = GetComponent&lt;Terrain&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Configure terrain properties</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        terrain.terrainData.size = new Vector3(terrainScale, 20f, terrainScale);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Set up terrain collider with physics material</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        TerrainCollider terrainCollider = GetComponent&lt;TerrainCollider&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (terrainCollider != null &amp;&amp; terrainMaterial != null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            terrainCollider.material = terrainMaterial;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Configure terrain textures</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SetupTerrainTextures(terrain);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void SetupTerrainTextures(Terrain terrain)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        TerrainData terrainData = terrain.terrainData;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Create and assign terrain materials</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SplatPrototype[] splatPrototypes = new SplatPrototype[terrainTextures.Length];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (int i = 0; i &lt; terrainTextures.Length; i++)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            splatPrototypes[i] = new SplatPrototype();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            splatPrototypes[i].texture = terrainTextures[i];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            splatPrototypes[i].tileSize = new Vector2(textureScales[i], textureScales[i]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        terrainData.splatPrototypes = splatPrototypes;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="35-sensor-simulation-in-unity">3.5 Sensor Simulation in Unity<a href="#35-sensor-simulation-in-unity" class="hash-link" aria-label="Direct link to 3.5 Sensor Simulation in Unity" title="Direct link to 3.5 Sensor Simulation in Unity" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="351-camera-sensor-simulation">3.5.1 Camera Sensor Simulation<a href="#351-camera-sensor-simulation" class="hash-link" aria-label="Direct link to 3.5.1 Camera Sensor Simulation" title="Direct link to 3.5.1 Camera Sensor Simulation" translate="no">​</a></h3>
<p>Creating realistic camera sensors with Unity&#x27;s rendering pipeline:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Unity camera sensor implementation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using System.Collections;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class UnityCameraSensor : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Camera Configuration&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Camera cameraComponent;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public int imageWidth = 640;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public int imageHeight = 480;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float updateRate = 30f; // FPS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public bool addNoise = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Noise Configuration&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float noiseIntensity = 0.01f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float noiseScale = 0.1f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private RenderTexture renderTexture;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private float updateInterval;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private float lastUpdate;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SetupCamera();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        CreateRenderTexture();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        updateInterval = 1.0f / updateRate;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Update()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (Time.time - lastUpdate &gt;= updateInterval)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            CaptureImage();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            lastUpdate = Time.time;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void SetupCamera()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (cameraComponent == null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            cameraComponent = GetComponent&lt;Camera&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (cameraComponent == null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            cameraComponent = gameObject.AddComponent&lt;Camera&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        cameraComponent.targetTexture = null; // Will be set to render texture</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        cameraComponent.enabled = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void CreateRenderTexture()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        renderTexture = new RenderTexture(imageWidth, imageHeight, 24);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        renderTexture.Create();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        cameraComponent.targetTexture = renderTexture;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void CaptureImage()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Capture image to RenderTexture</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        cameraComponent.Render();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Process image (in a real implementation, this would send to ROS)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ProcessCapturedImage();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void ProcessCapturedImage()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Create temporary texture to read pixels</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Texture2D imageTexture = new Texture2D(renderTexture.width, renderTexture.height, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            TextureFormat.RGB24, false);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Keep current active render texture</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        RenderTexture currentRT = RenderTexture.active;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        RenderTexture.active = renderTexture;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Read pixels from active render texture</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        imageTexture.ReadPixels(new Rect(0, 0, renderTexture.width, renderTexture.height), 0, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        imageTexture.Apply();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Restore active render texture</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        RenderTexture.active = currentRT;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Add noise if enabled</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (addNoise)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            AddImageNoise(imageTexture);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // In a real implementation, convert to ROS message format and publish</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ConvertAndPublishImage(imageTexture);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Clean up temporary texture</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Destroy(imageTexture);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void AddImageNoise(Texture2D texture)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Apply noise to image texture</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Color[] pixels = texture.GetPixels();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (int i = 0; i &lt; pixels.Length; i++)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Add random noise</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            float noise = Random.Range(-noiseIntensity, noiseIntensity);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            pixels[i] = new Color(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Mathf.Clamp01(pixels[i].r + noise),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Mathf.Clamp01(pixels[i].g + noise),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Mathf.Clamp01(pixels[i].b + noise)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        texture.SetPixels(pixels);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        texture.Apply();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void ConvertAndPublishImage(Texture2D image)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Convert Unity image format to ROS format</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // In practice, this would use ROS-TCP-Connector to send image to ROS system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // For this example, we&#x27;ll just log that image conversion would happen</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Debug.Log(&quot;Image captured and ready for ROS conversion&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="352-lidar-sensor-simulation">3.5.2 LIDAR Sensor Simulation<a href="#352-lidar-sensor-simulation" class="hash-link" aria-label="Direct link to 3.5.2 LIDAR Sensor Simulation" title="Direct link to 3.5.2 LIDAR Sensor Simulation" translate="no">​</a></h3>
<p>Creating LIDAR sensors using Unity&#x27;s raycast system:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// LIDAR sensor simulation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using System.Collections.Generic;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class UnityLIDARSensor : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;LIDAR Configuration&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float scanRange = 30f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public int horizontalResolution = 720;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public int verticalResolution = 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float updateRate = 10f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public LayerMask detectionLayers = -1; // All layers by default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Noise Configuration&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float rangeNoise = 0.01f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private float updateInterval;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private float lastUpdate;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private float horizontalAngleIncrement;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private List&lt;float&gt; scanData;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        updateInterval = 1.0f / updateRate;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        horizontalAngleIncrement = 360.0f / horizontalResolution;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        scanData = new List&lt;float&gt;(horizontalResolution);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Update()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (Time.time - lastUpdate &gt;= updateInterval)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            PerformScan();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            lastUpdate = Time.time;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void PerformScan()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        scanData.Clear();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (int i = 0; i &lt; horizontalResolution; i++)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            float angle = i * horizontalAngleIncrement * Mathf.Deg2Rad;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            float range = PerformRaycast(angle, 0); // 0 elevation for 2D LIDAR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            scanData.Add(range);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Publish scan data (would connect to ROS in real implementation)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        PublishScanData();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    float PerformRaycast(float horizontalAngle, float verticalAngle)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Calculate ray direction based on angles</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Vector3 direction = new Vector3(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Mathf.Cos(verticalAngle) * Mathf.Cos(horizontalAngle),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Mathf.Sin(verticalAngle),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Mathf.Cos(verticalAngle) * Mathf.Sin(horizontalAngle)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        direction = transform.TransformDirection(direction);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Perform raycast</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (Physics.Raycast(transform.position, direction, out RaycastHit hit, scanRange, detectionLayers))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            float range = hit.distance;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Add noise to measurement</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            range += Random.Range(-rangeNoise, rangeNoise);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return Mathf.Clamp(range, 0f, scanRange);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Return max range if no hit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return scanRange;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void PublishScanData()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // In a real implementation, convert scan data to ROS LaserScan message</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // and publish via ROS-TCP-Connector</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Debug.Log($&quot;LIDAR scan completed with {scanData.Count} points&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Visualization method for debugging</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void OnDrawGizmosSelected()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (scanData != null &amp;&amp; scanData.Count &gt; 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            for (int i = 0; i &lt; scanData.Count; i++)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                float angle = i * horizontalAngleIncrement * Mathf.Deg2Rad;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Vector3 direction = new Vector3(Mathf.Cos(angle), 0, Mathf.Sin(angle));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                direction = transform.TransformDirection(direction);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                float range = scanData[i];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if (range &lt; scanRange)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    Gizmos.color = Color.red;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    Gizmos.DrawRay(transform.position, direction * range);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    Gizmos.color = Color.green;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    Gizmos.DrawRay(transform.position, direction * scanRange);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="353-imu-sensor-simulation">3.5.3 IMU Sensor Simulation<a href="#353-imu-sensor-simulation" class="hash-link" aria-label="Direct link to 3.5.3 IMU Sensor Simulation" title="Direct link to 3.5.3 IMU Sensor Simulation" translate="no">​</a></h3>
<p>Implementing IMU sensors using Unity&#x27;s physics system:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// IMU sensor simulation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class UnityIMUSensor : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;IMU Configuration&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float updateRate = 100f; // Hz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Vector3 noiseLinearAcceleration = Vector3.one * 0.017f; // m/s^2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Vector3 noiseAngularVelocity = Vector3.one * 0.0002f; // rad/s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Vector3 noiseOrientation = Vector3.one * 0.01f;         // rad</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Gravity Compensation&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public bool compensateGravity = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private float updateInterval;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private float lastUpdate;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Rigidbody attachedRigidbody;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // These would be published as ROS messages in real implementation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Vector3 linearAcceleration;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Vector3 angularVelocity;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Quaternion orientation;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        updateInterval = 1.0f / updateRate;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        attachedRigidbody = GetComponent&lt;Rigidbody&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // If no rigidbody attached, try to find one in parent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (attachedRigidbody == null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            attachedRigidbody = GetComponentInParent&lt;Rigidbody&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Update()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (Time.time - lastUpdate &gt;= updateInterval)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            UpdateIMUReading();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            lastUpdate = Time.time;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void UpdateIMUReading()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (attachedRigidbody != null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Get orientation (relative to world or other reference)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            orientation = transform.rotation;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Get angular velocity from rigidbody if attached</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (attachedRigidbody != null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // Angular velocity in the local frame</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                angularVelocity = transform.InverseTransformDirection(attachedRigidbody.angularVelocity);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                angularVelocity = Vector3.zero;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Linear acceleration (calculated from change in velocity)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (attachedRigidbody != null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // Get linear acceleration in local frame</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Vector3 worldAcc = attachedRigidbody.velocity / Time.deltaTime;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                linearAcceleration = transform.InverseTransformDirection(worldAcc);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // Optionally remove gravity from linear acceleration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if (compensateGravity)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    Vector3 gravityVector = Physics.gravity;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    Vector3 gravityLocal = transform.InverseTransformDirection(gravityVector);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    linearAcceleration -= gravityLocal;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                linearAcceleration = Physics.gravity;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if (compensateGravity) linearAcceleration = Vector3.zero;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // If no rigidbody, use transform changes (less accurate)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            orientation = transform.rotation;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            linearAcceleration = (transform.position - transform.position) / Time.deltaTime; // Simplified</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            angularVelocity = Vector3.zero;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Add noise to measurements</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        AddNoiseToMeasurements();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Publish IMU data (would connect to ROS in real implementation)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        PublishIMUData();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void AddNoiseToMeasurements()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        linearAcceleration += new Vector3(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Random.Range(-noiseLinearAcceleration.x, noiseLinearAcceleration.x),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Random.Range(-noiseLinearAcceleration.y, noiseLinearAcceleration.y),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Random.Range(-noiseLinearAcceleration.z, noiseLinearAcceleration.z)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        angularVelocity += new Vector3(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Random.Range(-noiseAngularVelocity.x, noiseAngularVelocity.x),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Random.Range(-noiseAngularVelocity.y, noiseAngularVelocity.y),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Random.Range(-noiseAngularVelocity.z, noiseAngularVelocity.z)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Add noise to orientation (simplified approach)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        orientation = Quaternion.Euler(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            orientation.eulerAngles.x + Random.Range(-noiseOrientation.x, noiseOrientation.x),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            orientation.eulerAngles.y + Random.Range(-noiseOrientation.y, noiseOrientation.y),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            orientation.eulerAngles.z + Random.Range(-noiseOrientation.z, noiseOrientation.z)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void PublishIMUData()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // In a real implementation, convert to ROS sensor_msgs/Imu message</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // and publish via ROS-TCP-Connector</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Debug.Log($&quot;IMU: Acc={linearAcceleration}, Vel={angularVelocity}&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="36-ros-integration-with-unity">3.6 ROS Integration with Unity<a href="#36-ros-integration-with-unity" class="hash-link" aria-label="Direct link to 3.6 ROS Integration with Unity" title="Direct link to 3.6 ROS Integration with Unity" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="361-ros-tcp-connector-setup">3.6.1 ROS-TCP-Connector Setup<a href="#361-ros-tcp-connector-setup" class="hash-link" aria-label="Direct link to 3.6.1 ROS-TCP-Connector Setup" title="Direct link to 3.6.1 ROS-TCP-Connector Setup" translate="no">​</a></h3>
<p>Integrating Unity with ROS systems:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ROS communication interface</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using System.Collections;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using System.Collections.Generic;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using System.Net.Sockets;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using System.Text;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using Newtonsoft.Json;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class ROSCommunication : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;ROS Connection&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public string rosBridgeIP = &quot;127.0.0.1&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public int rosBridgePort = 9090;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private TcpClient rosClient;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private NetworkStream stream;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private bool isConnected = false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ConnectToROSBridge();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void ConnectToROSBridge()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        try</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            rosClient = new TcpClient(rosBridgeIP, rosBridgePort);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            stream = rosClient.GetStream();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            isConnected = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Debug.Log(&quot;Connected to ROS bridge&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        catch (System.Exception e)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Debug.LogError(&quot;Failed to connect to ROS bridge: &quot; + e.Message);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void PublishToTopic(string topic, string messageType, object message)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (!isConnected) return;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Create ROS bridge message</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var rosMessage = new</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            op = &quot;publish&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            topic = topic,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            type = messageType,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            msg = message</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        string jsonMessage = JsonConvert.SerializeObject(rosMessage);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        byte[] data = Encoding.UTF8.GetBytes(jsonMessage + &quot;\n&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        try</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            stream.Write(data, 0, data.Length);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        catch (System.Exception e)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Debug.LogError(&quot;Failed to publish message: &quot; + e.Message);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void SubscribeToTopic(string topic, string messageType)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (!isConnected) return;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var subscribeMessage = new</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            op = &quot;subscribe&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            topic = topic,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            type = messageType</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        string jsonMessage = JsonConvert.SerializeObject(subscribeMessage);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        byte[] data = Encoding.UTF8.GetBytes(jsonMessage + &quot;\n&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        try</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            stream.Write(data, 0, data.Length);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        catch (System.Exception e)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Debug.LogError(&quot;Failed to subscribe to topic: &quot; + e.Message);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void OnApplicationQuit()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (rosClient != null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            rosClient.Close();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="362-message-conversion-utilities">3.6.2 Message Conversion Utilities<a href="#362-message-conversion-utilities" class="hash-link" aria-label="Direct link to 3.6.2 Message Conversion Utilities" title="Direct link to 3.6.2 Message Conversion Utilities" translate="no">​</a></h3>
<p>Converting between Unity and ROS message formats:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Message conversion utilities</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using System.Collections.Generic;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public static class ROSMessageConverter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Convert Unity Vector3 to ROS geometry_msgs/Point</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static Dictionary&lt;string, object&gt; Vector3ToROSPoint(Vector3 unityVector)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return new Dictionary&lt;string, object&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {&quot;x&quot;, unityVector.x},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {&quot;y&quot;, unityVector.z},  // Unity&#x27;s z is ROS&#x27;s y (assuming coordinate transformation)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {&quot;z&quot;, unityVector.y}   // Unity&#x27;s y is ROS&#x27;s z</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Convert Unity Quaternion to ROS geometry_msgs/Quaternion</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static Dictionary&lt;string, object&gt; QuaternionToROSQuaternion(Quaternion unityQuat)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return new Dictionary&lt;string, object&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {&quot;x&quot;, unityQuat.x},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {&quot;y&quot;, unityQuat.z},  // Coordinate transformation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {&quot;z&quot;, unityQuat.y},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {&quot;w&quot;, unityQuat.w}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Convert ROS timestamp to Unity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static double GetROSTimestamp()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.DateTime epochStart = new System.DateTime(1970, 1, 1, 0, 0, 0, System.DateTimeKind.Utc);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        double timestamp = (System.DateTime.UtcNow - epochStart).TotalSeconds;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return timestamp;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="37-performance-optimization">3.7 Performance Optimization<a href="#37-performance-optimization" class="hash-link" aria-label="Direct link to 3.7 Performance Optimization" title="Direct link to 3.7 Performance Optimization" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="371-rendering-optimization">3.7.1 Rendering Optimization<a href="#371-rendering-optimization" class="hash-link" aria-label="Direct link to 3.7.1 Rendering Optimization" title="Direct link to 3.7.1 Rendering Optimization" translate="no">​</a></h3>
<p>Optimizing Unity for real-time robotics simulation:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Rendering optimization settings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class RenderingOptimization : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;LOD Settings&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float lodBias = 1.0f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public int maximumLODLevel = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Occlusion Culling&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public bool enableOcclusionCulling = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Quality Settings&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float shadowDistance = 50f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public int shadowResolution = 1024;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public int shadowCascades = 2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Dynamic Batching&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public bool enableDynamicBatching = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public bool enableStaticBatching = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ApplyOptimizations();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void ApplyOptimizations()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Apply LOD bias</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        QualitySettings.lodBias = lodBias;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        QualitySettings.maximumLODLevel = maximumLODLevel;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Configure shadow settings for performance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        QualitySettings.shadowDistance = shadowDistance;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        QualitySettings.shadowResolution = (ShadowResolution)shadowResolution;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        QualitySettings.shadowCascades = shadowCascades;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Note: Batching settings are project-wide and set in Quality Settings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="372-physics-optimization">3.7.2 Physics Optimization<a href="#372-physics-optimization" class="hash-link" aria-label="Direct link to 3.7.2 Physics Optimization" title="Direct link to 3.7.2 Physics Optimization" translate="no">​</a></h3>
<p>Optimizing physics simulation for real-time performance:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Physics optimization for robotics simulation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class PhysicsOptimization : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Physics Settings&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public int solverIterations = 6; // Balance between stability and performance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public int solverVelocityIterations = 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float sleepThreshold = 0.005f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float contactOffset = 0.01f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Simulation Settings&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public int threadCount = 0; // 0 means use default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float fixedDeltaTime = 0.02f; // 50 Hz physics updates</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        OptimizePhysics();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void OptimizePhysics()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Physics.defaultSolverIterations = solverIterations;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Physics.defaultSolverVelocityIterations = solverVelocityIterations;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Physics.sleepThreshold = sleepThreshold;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Physics.defaultContactOffset = contactOffset;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Set physics time step</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Time.fixedDeltaTime = fixedDeltaTime;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Adjust thread count if needed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (threadCount &gt; 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Physics.defaultSolverThreadCount = threadCount;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="38-advanced-simulation-features">3.8 Advanced Simulation Features<a href="#38-advanced-simulation-features" class="hash-link" aria-label="Direct link to 3.8 Advanced Simulation Features" title="Direct link to 3.8 Advanced Simulation Features" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="381-domain-randomization">3.8.1 Domain Randomization<a href="#381-domain-randomization" class="hash-link" aria-label="Direct link to 3.8.1 Domain Randomization" title="Direct link to 3.8.1 Domain Randomization" translate="no">​</a></h3>
<p>Implementing domain randomization to improve sim-to-real transfer:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Domain randomization implementation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using System.Collections;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class DomainRandomization : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Material Randomization&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Material[] baseMaterials;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Color[] randomColors;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float randomRoughnessRange = 0.5f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Lighting Randomization&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Light[] lightsToRandomize;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float intensityRange = 0.5f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Object Randomization&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public GameObject[] objectsToRandomize;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float positionJitter = 0.1f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float rotationJitter = 5f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Timing&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float randomizationInterval = 10f; // seconds</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private float lastRandomization;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        lastRandomization = Time.time;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        RandomizeEnvironment();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Update()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (Time.time - lastRandomization &gt;= randomizationInterval)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            RandomizeEnvironment();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            lastRandomization = Time.time;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void RandomizeEnvironment()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        RandomizeMaterials();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        RandomizeLighting();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        RandomizeObjects();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void RandomizeMaterials()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        foreach (Material mat in baseMaterials)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (mat != null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // Randomize color</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if (randomColors.Length &gt; 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    Color randomColor = randomColors[Random.Range(0, randomColors.Length)];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    mat.color = randomColor;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // Randomize roughness</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                float randomRoughness = Random.Range(0.5f, 0.5f + randomRoughnessRange);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                mat.SetFloat(&quot;_Metallic&quot;, 1.0f - randomRoughness); // Simplified</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void RandomizeLighting()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        foreach (Light light in lightsToRandomize)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (light != null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                float randomIntensity = light.intensity * Random.Range(1f - intensityRange, 1f + intensityRange);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                light.intensity = Mathf.Clamp(randomIntensity, 0.1f, 5f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // Randomize color within reasonable ranges</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                float hue, saturation, value;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Color.RGBToHSV(light.color, out hue, out saturation, out value);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                hue = Mathf.Clamp01(hue + Random.Range(-0.1f, 0.1f));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                saturation = Mathf.Clamp01(saturation + Random.Range(-0.1f, 0.1f));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                light.color = Color.HSVToRGB(hue, saturation, value);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void RandomizeObjects()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        foreach (GameObject obj in objectsToRandomize)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (obj != null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // Add small position jitter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Vector3 randomPos = obj.transform.position;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                randomPos.x += Random.Range(-positionJitter, positionJitter);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                randomPos.y += Random.Range(-positionJitter, positionJitter);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                randomPos.z += Random.Range(-positionJitter, positionJitter);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                obj.transform.position = randomPos;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // Add small rotation jitter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Vector3 randomRot = obj.transform.eulerAngles;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                randomRot.x += Random.Range(-rotationJitter, rotationJitter);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                randomRot.y += Random.Range(-rotationJitter, rotationJitter);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                randomRot.z += Random.Range(-rotationJitter, rotationJitter);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                obj.transform.eulerAngles = randomRot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="382-synthetic-data-generation">3.8.2 Synthetic Data Generation<a href="#382-synthetic-data-generation" class="hash-link" aria-label="Direct link to 3.8.2 Synthetic Data Generation" title="Direct link to 3.8.2 Synthetic Data Generation" translate="no">​</a></h3>
<p>Using Unity Perception for generating training data:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Synthetic data generation setup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using Unity.Perception.GroundTruth;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[RequireComponent(typeof(PerceptionCamera))]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class SyntheticDataGenerator : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Dataset Configuration&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public string datasetName = &quot;robotics_dataset&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public int sequenceId = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public bool captureAtFixedIntervals = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float captureInterval = 0.5f; // seconds</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Annotation Types&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public bool captureBoundingBoxes = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public bool captureSegmentation = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public bool captureDepth = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private PerceptionCamera perceptionCamera;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private float lastCapture;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private int frameCount = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SetupPerceptionCamera();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        lastCapture = Time.time;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Update()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (captureAtFixedIntervals &amp;&amp; Time.time - lastCapture &gt;= captureInterval)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            CaptureAnnotations();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            lastCapture = Time.time;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void SetupPerceptionCamera()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        perceptionCamera = GetComponent&lt;PerceptionCamera&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (perceptionCamera == null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            perceptionCamera = gameObject.AddComponent&lt;PerceptionCamera&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Configure annotation types</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        perceptionCamera.annotationCaptureSettings.boundingBox2D.enabled = captureBoundingBoxes;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        perceptionCamera.annotationCaptureSettings.instanceSegmentation.enabled = captureSegmentation;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        perceptionCamera.annotationCaptureSettings.depth.enabled = captureDepth;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void CaptureAnnotations()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Capture annotations for this frame</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var captureFrame = new CaptureFrame</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            sequenceId = sequenceId,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            timestamp = Time.time,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            frameId = frameCount++</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // In a real implementation, this would trigger annotation capture</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // and save to dataset in appropriate format</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        perceptionCamera.CaptureFrame(captureFrame);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Debug.Log($&quot;Captured frame {captureFrame.frameId} for sequence {sequenceId}&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Manual capture method</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void ManualCapture()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        CaptureAnnotations();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="chapter-summary">Chapter Summary<a href="#chapter-summary" class="hash-link" aria-label="Direct link to Chapter Summary" title="Direct link to Chapter Summary" translate="no">​</a></h2>
<p>This chapter provided a comprehensive guide to using Unity for creating visualization-rich simulation environments for robotics applications. We covered Unity setup and configuration, robot model creation, environment design with realistic physics, sensor simulation implementations (camera, LIDAR, IMU), ROS integration using ROS-TCP-Connector, performance optimization techniques, and advanced features like domain randomization and synthetic data generation. Unity&#x27;s strength lies in its ability to create photorealistic environments for perception-focused robotics applications.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="key-terms">Key Terms<a href="#key-terms" class="hash-link" aria-label="Direct link to Key Terms" title="Direct link to Key Terms" translate="no">​</a></h2>
<ul>
<li class="">Unity Robotics</li>
<li class="">Photorealistic Rendering</li>
<li class="">ROS-TCP-Connector</li>
<li class="">Domain Randomization</li>
<li class="">Synthetic Data Generation</li>
<li class="">Physics Simulation</li>
<li class="">Sensor Simulation</li>
<li class="">Perception Training</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="exercises">Exercises<a href="#exercises" class="hash-link" aria-label="Direct link to Exercises" title="Direct link to Exercises" translate="no">​</a></h2>
<ol>
<li class="">Create a Unity scene with a simple robot model and export sensor data</li>
<li class="">Implement domain randomization techniques for a robotic perception task</li>
<li class="">Set up ROS communication between Unity and a ROS 2 system</li>
<li class="">Generate synthetic training data for a computer vision pipeline</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="references">References<a href="#references" class="hash-link" aria-label="Direct link to References" title="Direct link to References" translate="no">​</a></h2>
<ul>
<li class="">Unity Robotics Hub: <a href="https://unity.com/solutions/robotics" target="_blank" rel="noopener noreferrer" class="">https://unity.com/solutions/robotics</a></li>
<li class="">Unity Perception Package Documentation</li>
<li class="">ROS-TCP-Connector GitHub Repository</li>
<li class="">Unity ML-Agents Toolkit Documentation</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/RizSheik/humanoid-robotics-course/edit/main/docs/module-3-digital-twin-simulation/chapter-3.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/humanoid-robotics-course/docs/module-3-digital-twin-simulation/chapter-2"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Chapter 2: Gazebo Harmonic - Physics-Based Simulation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/humanoid-robotics-course/docs/module-3-digital-twin-simulation/chapter-4"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Chapter 4: Isaac Sim - AI-Powered Robotics Simulation</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#learning-objectives" class="table-of-contents__link toc-highlight">Learning Objectives</a></li><li><a href="#31-introduction-to-unity-for-robotics" class="table-of-contents__link toc-highlight">3.1 Introduction to Unity for Robotics</a><ul><li><a href="#311-unity-in-the-robotics-context" class="table-of-contents__link toc-highlight">3.1.1 Unity in the Robotics Context</a></li><li><a href="#312-unity-vs-other-simulation-platforms" class="table-of-contents__link toc-highlight">3.1.2 Unity vs Other Simulation Platforms</a></li><li><a href="#313-unity-robotics-ecosystem" class="table-of-contents__link toc-highlight">3.1.3 Unity Robotics Ecosystem</a></li></ul></li><li><a href="#32-setting-up-unity-for-robotics-simulation" class="table-of-contents__link toc-highlight">3.2 Setting Up Unity for Robotics Simulation</a><ul><li><a href="#321-system-requirements" class="table-of-contents__link toc-highlight">3.2.1 System Requirements</a></li><li><a href="#322-installation-process" class="table-of-contents__link toc-highlight">3.2.2 Installation Process</a></li><li><a href="#323-recommended-packages" class="table-of-contents__link toc-highlight">3.2.3 Recommended Packages</a></li></ul></li><li><a href="#33-creating-robot-models-in-unity" class="table-of-contents__link toc-highlight">3.3 Creating Robot Models in Unity</a><ul><li><a href="#331-importing-robot-models" class="table-of-contents__link toc-highlight">3.3.1 Importing Robot Models</a></li><li><a href="#332-physics-configuration-for-robots" class="table-of-contents__link toc-highlight">3.3.2 Physics Configuration for Robots</a></li><li><a href="#333-animation-and-joint-control" class="table-of-contents__link toc-highlight">3.3.3 Animation and Joint Control</a></li></ul></li><li><a href="#34-environment-design-and-physics" class="table-of-contents__link toc-highlight">3.4 Environment Design and Physics</a><ul><li><a href="#341-creating-realistic-environments" class="table-of-contents__link toc-highlight">3.4.1 Creating Realistic Environments</a></li><li><a href="#342-physics-simulation-parameters" class="table-of-contents__link toc-highlight">3.4.2 Physics Simulation Parameters</a></li><li><a href="#343-terrain-and-complex-environments" class="table-of-contents__link toc-highlight">3.4.3 Terrain and Complex Environments</a></li></ul></li><li><a href="#35-sensor-simulation-in-unity" class="table-of-contents__link toc-highlight">3.5 Sensor Simulation in Unity</a><ul><li><a href="#351-camera-sensor-simulation" class="table-of-contents__link toc-highlight">3.5.1 Camera Sensor Simulation</a></li><li><a href="#352-lidar-sensor-simulation" class="table-of-contents__link toc-highlight">3.5.2 LIDAR Sensor Simulation</a></li><li><a href="#353-imu-sensor-simulation" class="table-of-contents__link toc-highlight">3.5.3 IMU Sensor Simulation</a></li></ul></li><li><a href="#36-ros-integration-with-unity" class="table-of-contents__link toc-highlight">3.6 ROS Integration with Unity</a><ul><li><a href="#361-ros-tcp-connector-setup" class="table-of-contents__link toc-highlight">3.6.1 ROS-TCP-Connector Setup</a></li><li><a href="#362-message-conversion-utilities" class="table-of-contents__link toc-highlight">3.6.2 Message Conversion Utilities</a></li></ul></li><li><a href="#37-performance-optimization" class="table-of-contents__link toc-highlight">3.7 Performance Optimization</a><ul><li><a href="#371-rendering-optimization" class="table-of-contents__link toc-highlight">3.7.1 Rendering Optimization</a></li><li><a href="#372-physics-optimization" class="table-of-contents__link toc-highlight">3.7.2 Physics Optimization</a></li></ul></li><li><a href="#38-advanced-simulation-features" class="table-of-contents__link toc-highlight">3.8 Advanced Simulation Features</a><ul><li><a href="#381-domain-randomization" class="table-of-contents__link toc-highlight">3.8.1 Domain Randomization</a></li><li><a href="#382-synthetic-data-generation" class="table-of-contents__link toc-highlight">3.8.2 Synthetic Data Generation</a></li></ul></li><li><a href="#chapter-summary" class="table-of-contents__link toc-highlight">Chapter Summary</a></li><li><a href="#key-terms" class="table-of-contents__link toc-highlight">Key Terms</a></li><li><a href="#exercises" class="table-of-contents__link toc-highlight">Exercises</a></li><li><a href="#references" class="table-of-contents__link toc-highlight">References</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Textbook</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/humanoid-robotics-course/docs/module-1-physical-ai-foundations/overview">Module 1: Physical AI Foundations</a></li><li class="footer__item"><a class="footer__link-item" href="/humanoid-robotics-course/docs/module-2-ros-2-fundamentals/overview">Module 2: ROS 2 Fundamentals</a></li><li class="footer__item"><a class="footer__link-item" href="/humanoid-robotics-course/docs/module-3-digital-twin-simulation/overview">Module 3: Digital Twin Simulation</a></li><li class="footer__item"><a class="footer__link-item" href="/humanoid-robotics-course/docs/module-4-ai-robot-brain/overview">Module 4: AI Robot Brain</a></li><li class="footer__item"><a class="footer__link-item" href="/humanoid-robotics-course/docs/capstone-the-autonomous-humanoid/capstone-overview">Capstone: The Autonomous Humanoid</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/humanoid-robotics-course/docs/appendices/hardware-requirements">Appendices</a></li><li class="footer__item"><a href="https://github.com/RizSheik/humanoid-robotics-course" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Physical AI & Humanoid Robotics — AI Systems in the Physical World. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>