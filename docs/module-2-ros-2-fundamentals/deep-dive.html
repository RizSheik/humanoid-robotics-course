<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-module-2-ros-2-fundamentals/deep-dive" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Module 2: Deep Dive - Advanced ROS 2 Concepts for Complex Robotics Systems | Physical AI &amp; Humanoid Robotics — AI Systems in the Physical World</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://rizsheik.github.io/humanoid-robotics-course/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://rizsheik.github.io/humanoid-robotics-course/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://rizsheik.github.io/humanoid-robotics-course/docs/module-2-ros-2-fundamentals/deep-dive"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Module 2: Deep Dive - Advanced ROS 2 Concepts for Complex Robotics Systems | Physical AI &amp; Humanoid Robotics — AI Systems in the Physical World"><meta data-rh="true" name="description" content="Advanced Architecture and Design Patterns"><meta data-rh="true" property="og:description" content="Advanced Architecture and Design Patterns"><link data-rh="true" rel="icon" href="/humanoid-robotics-course/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://rizsheik.github.io/humanoid-robotics-course/docs/module-2-ros-2-fundamentals/deep-dive"><link data-rh="true" rel="alternate" href="https://rizsheik.github.io/humanoid-robotics-course/docs/module-2-ros-2-fundamentals/deep-dive" hreflang="en"><link data-rh="true" rel="alternate" href="https://rizsheik.github.io/humanoid-robotics-course/docs/module-2-ros-2-fundamentals/deep-dive" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Module 2: ROS 2 Fundamentals","item":"https://rizsheik.github.io/humanoid-robotics-course/docs/module-2-ros-2-fundamentals"},{"@type":"ListItem","position":2,"name":"Module 2: Deep Dive - Advanced ROS 2 Concepts for Complex Robotics Systems","item":"https://rizsheik.github.io/humanoid-robotics-course/docs/module-2-ros-2-fundamentals/deep-dive"}]}</script><link rel="stylesheet" href="/humanoid-robotics-course/assets/css/styles.50e26d9c.css">
<script src="/humanoid-robotics-course/assets/js/runtime~main.35d49065.js" defer="defer"></script>
<script src="/humanoid-robotics-course/assets/js/main.883d7e78.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/humanoid-robotics-course/img/robot-head.svg"><link rel="preload" as="image" href="../../../img/book-image/Flowchart_showing_ROS_2_nodes_communicat_1.jpg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/humanoid-robotics-course/"><div class="navbar__logo"><img src="/humanoid-robotics-course/img/robot-head.svg" alt="Humanoid Robotics Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/humanoid-robotics-course/img/robot-head.svg" alt="Humanoid Robotics Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Physical AI &amp; Humanoid Robotics</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/humanoid-robotics-course/docs/intro">Textbook Modules</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/RizSheik/humanoid-robotics-course" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/humanoid-robotics-course/docs/intro"><span title="Introduction to Humanoid Robotics" class="linkLabel_WmDU">Introduction to Humanoid Robotics</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/humanoid-robotics-course/docs/module-1-physical-ai-foundations"><span title="Module 1: Physical AI Foundations" class="categoryLinkLabel_W154">Module 1: Physical AI Foundations</span></a><button aria-label="Expand sidebar category &#x27;Module 1: Physical AI Foundations&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/humanoid-robotics-course/docs/module-2-ros-2-fundamentals"><span title="Module 2: ROS 2 Fundamentals" class="categoryLinkLabel_W154">Module 2: ROS 2 Fundamentals</span></a><button aria-label="Collapse sidebar category &#x27;Module 2: ROS 2 Fundamentals&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/humanoid-robotics-course/docs/module-2-ros-2-fundamentals/overview"><span title="Module 2: ROS 2 Fundamentals - Topics, Services, Actions, and Communication Patterns" class="linkLabel_WmDU">Module 2: ROS 2 Fundamentals - Topics, Services, Actions, and Communication Patterns</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/humanoid-robotics-course/docs/module-2-ros-2-fundamentals/chapter-1"><span title="Chapter 1: Introduction to ROS 2 Architecture and Middleware" class="linkLabel_WmDU">Chapter 1: Introduction to ROS 2 Architecture and Middleware</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/humanoid-robotics-course/docs/module-2-ros-2-fundamentals/chapter-2"><span title="Chapter 2: Topics and Asynchronous Communication" class="linkLabel_WmDU">Chapter 2: Topics and Asynchronous Communication</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/humanoid-robotics-course/docs/module-2-ros-2-fundamentals/chapter-3"><span title="Chapter 3: Services and Synchronous Communication" class="linkLabel_WmDU">Chapter 3: Services and Synchronous Communication</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/humanoid-robotics-course/docs/module-2-ros-2-fundamentals/chapter-4"><span title="Chapter 4: Actions and Complex Task Execution" class="linkLabel_WmDU">Chapter 4: Actions and Complex Task Execution</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/humanoid-robotics-course/docs/module-2-ros-2-fundamentals/deep-dive"><span title="Module 2: Deep Dive - Advanced ROS 2 Concepts for Complex Robotics Systems" class="linkLabel_WmDU">Module 2: Deep Dive - Advanced ROS 2 Concepts for Complex Robotics Systems</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/humanoid-robotics-course/docs/module-2-ros-2-fundamentals/practical-lab"><span title="Module 2: Practical Lab - ROS 2 Communication Patterns for Robotics" class="linkLabel_WmDU">Module 2: Practical Lab - ROS 2 Communication Patterns for Robotics</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/humanoid-robotics-course/docs/module-2-ros-2-fundamentals/simulation"><span title="Module 2: Simulation - ROS 2 Communication in Robotic Environments" class="linkLabel_WmDU">Module 2: Simulation - ROS 2 Communication in Robotic Environments</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/humanoid-robotics-course/docs/module-2-ros-2-fundamentals/assignment"><span title="Module 2: Assignment - ROS 2 Communication Architecture for Humanoid Robotics" class="linkLabel_WmDU">Module 2: Assignment - ROS 2 Communication Architecture for Humanoid Robotics</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/humanoid-robotics-course/docs/module-2-ros-2-fundamentals/quiz"><span title="Module 2: Quiz - ROS 2 Fundamentals: Topics, Services, and Actions" class="linkLabel_WmDU">Module 2: Quiz - ROS 2 Fundamentals: Topics, Services, and Actions</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/humanoid-robotics-course/docs/module-3-digital-twin-simulation"><span title="Module 3: Digital Twin Simulation" class="categoryLinkLabel_W154">Module 3: Digital Twin Simulation</span></a><button aria-label="Expand sidebar category &#x27;Module 3: Digital Twin Simulation&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/humanoid-robotics-course/docs/module-4-ai-robot-brain"><span title="Module 4: AI Robot Brain" class="categoryLinkLabel_W154">Module 4: AI Robot Brain</span></a><button aria-label="Expand sidebar category &#x27;Module 4: AI Robot Brain&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/humanoid-robotics-course/docs/capstone-the-autonomous-humanoid"><span title="Capstone: The Autonomous Humanoid" class="categoryLinkLabel_W154">Capstone: The Autonomous Humanoid</span></a><button aria-label="Expand sidebar category &#x27;Capstone: The Autonomous Humanoid&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/humanoid-robotics-course/docs/appendices"><span title="Appendices" class="categoryLinkLabel_W154">Appendices</span></a><button aria-label="Expand sidebar category &#x27;Appendices&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/humanoid-robotics-course/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/humanoid-robotics-course/docs/module-2-ros-2-fundamentals"><span>Module 2: ROS 2 Fundamentals</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Module 2: Deep Dive - Advanced ROS 2 Concepts for Complex Robotics Systems</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Module 2: Deep Dive - Advanced ROS 2 Concepts for Complex Robotics Systems</h1></header>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="advanced-architecture-and-design-patterns">Advanced Architecture and Design Patterns<a href="#advanced-architecture-and-design-patterns" class="hash-link" aria-label="Direct link to Advanced Architecture and Design Patterns" title="Direct link to Advanced Architecture and Design Patterns" translate="no">​</a></h2>
<div class="robotDiagram"><img src="../../../img/book-image/Flowchart_showing_ROS_2_nodes_communicat_1.jpg" alt="Humanoid Robot" style="border-radius:50px;width:900px;height:350px;margin:10px auto;display:block"></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="real-time-performance-with-ros-2">Real-Time Performance with ROS 2<a href="#real-time-performance-with-ros-2" class="hash-link" aria-label="Direct link to Real-Time Performance with ROS 2" title="Direct link to Real-Time Performance with ROS 2" translate="no">​</a></h3>
<p>ROS 2 supports real-time communication through its underlying DDS (Data Distribution Service) implementation. For humanoid robotics applications where timing is critical, understanding real-time concepts is essential.</p>
<p>The key factors for achieving real-time performance in ROS 2:</p>
<ol>
<li class="">
<p><strong>Middleware Configuration</strong>: Different DDS implementations (Fast DDS, Cyclone DDS, RTI Connext) have different real-time characteristics. Fast DDS is often preferred for robotics applications due to its flexibility and open-source nature.</p>
</li>
<li class="">
<p><strong>Quality of Service (QoS) Settings</strong>: Proper QoS configuration is critical for real-time performance:</p>
<ul>
<li class="">Reliability: Setting to RELIABLE might introduce latency</li>
<li class="">Durability: VOLATILE is typically best for real-time data</li>
<li class="">History: KEEP_LAST with minimal depth for timely data</li>
<li class="">Deadline: Setting deadlines ensures message delivery within time constraints</li>
</ul>
</li>
</ol>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Example of configuring QoS for real-time control</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rclcpp</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">QoS </span><span class="token function" style="color:#d73a49">real_time_qos</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// depth of 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">real_time_qos</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">reliability</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">RMW_QOS_POLICY_RELIABILITY_BEST_EFFORT</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">real_time_qos</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">durability</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">RMW_QOS_POLICY_DURABILITY_VOLATILE</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">real_time_qos</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">deadline</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rclcpp</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">Duration</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 50ms deadline</span><br></span></code></pre></div></div>
<ol start="3">
<li class=""><strong>Operating System Considerations</strong>: Real-time performance requires a real-time capable OS. This involves:<!-- -->
<ul>
<li class="">Using a real-time kernel patch (like PREEMPT_RT)</li>
<li class="">Setting appropriate process priorities</li>
<li class="">Memory locking to prevent page faults during critical operations</li>
<li class="">CPU affinity settings to dedicate cores to critical tasks</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="deterministic-communication-patterns">Deterministic Communication Patterns<a href="#deterministic-communication-patterns" class="hash-link" aria-label="Direct link to Deterministic Communication Patterns" title="Direct link to Deterministic Communication Patterns" translate="no">​</a></h3>
<p>For safety-critical humanoid robotics applications, deterministic communication is essential. This involves:</p>
<ol>
<li class=""><strong>Predictable Latency</strong>: Ensuring communication delays are bounded and predictable</li>
<li class=""><strong>Jitter Minimization</strong>: Keeping variations in delay to a minimum</li>
<li class=""><strong>Reliable Delivery</strong>: Ensuring critical messages are delivered when needed</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="advanced-node-composition">Advanced Node Composition<a href="#advanced-node-composition" class="hash-link" aria-label="Direct link to Advanced Node Composition" title="Direct link to Advanced Node Composition" translate="no">​</a></h3>
<p>ROS 2 supports node composition, which allows multiple nodes to be run within a single process. This reduces inter-process communication overhead and can improve performance for tightly coupled operations.</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Example of node composition</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&quot;rclcpp/rclcpp.hpp&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&quot;my_package/motion_controller_node.hpp&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&quot;my_package/sensor_processor_node.hpp&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> argc</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> argv</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  rclcpp</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">init</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">argc</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> argv</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">auto</span><span class="token plain"> component_container </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> rclcpp</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token class-name">Node</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">make_shared</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;component_container&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  rclcpp</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">executors</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">MultiThreadedExecutor executor</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  executor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">add_node</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">component_container</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Add nodes to the executor</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">auto</span><span class="token plain"> motion_controller </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token generic-function function" style="color:#d73a49">make_shared</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name">MotionControllerNode</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">auto</span><span class="token plain"> sensor_processor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token generic-function function" style="color:#d73a49">make_shared</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name">SensorProcessorNode</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  executor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">add_node</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">motion_controller</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  executor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">add_node</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sensor_processor</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  executor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">spin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  rclcpp</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">shutdown</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="lifecycle-nodes">Lifecycle Nodes<a href="#lifecycle-nodes" class="hash-link" aria-label="Direct link to Lifecycle Nodes" title="Direct link to Lifecycle Nodes" translate="no">​</a></h3>
<p>Lifecycle nodes provide a more robust way to manage node state by explicitly controlling transitions between different states (unconfigured, inactive, active, finalized).</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Example of lifecycle node implementation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&quot;rclcpp_lifecycle/lifecycle_node.hpp&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&quot;rclcpp_lifecycle/lifecycle_publisher.hpp&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">LifecycleController</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token base-clause keyword" style="color:#00009f">public</span><span class="token base-clause"> rclcpp_lifecycle</span><span class="token base-clause double-colon punctuation" style="color:#393A34">::</span><span class="token base-clause class-name">LifecycleNode</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">LifecycleController</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> rclcpp_lifecycle</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">LifecycleNode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;lifecycle_controller&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">protected</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  rclcpp_lifecycle</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">node_interfaces</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">LifecycleNodeInterface</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">CallbackReturn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">on_configure</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> rclcpp_lifecycle</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">State </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> state</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Configure resources but don&#x27;t start them</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    publisher_ </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token generic-function function" style="color:#d73a49">create_publisher</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name">std_msgs</span><span class="token generic-function generic class-name double-colon punctuation" style="color:#393A34">::</span><span class="token generic-function generic class-name">msg</span><span class="token generic-function generic class-name double-colon punctuation" style="color:#393A34">::</span><span class="token generic-function generic class-name">String</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;topic&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">RCLCPP_INFO</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">get_logger</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;on_configure() is called.&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> rclcpp_lifecycle</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">node_interfaces</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">LifecycleNodeInterface</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">CallbackReturn</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">SUCCESS</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  rclcpp_lifecycle</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">node_interfaces</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">LifecycleNodeInterface</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">CallbackReturn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">on_activate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> rclcpp_lifecycle</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">State </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> state</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Start resources</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    publisher_</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token function" style="color:#d73a49">on_activate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">RCLCPP_INFO</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">get_logger</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;on_activate() is called.&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> rclcpp_lifecycle</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">node_interfaces</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">LifecycleNodeInterface</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">CallbackReturn</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">SUCCESS</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  rclcpp_lifecycle</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">node_interfaces</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">LifecycleNodeInterface</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">CallbackReturn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">on_deactivate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> rclcpp_lifecycle</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">State </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> state</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Stop resources</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    publisher_</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token function" style="color:#d73a49">on_deactivate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">RCLCPP_INFO</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">get_logger</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;on_deactivate() is called.&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> rclcpp_lifecycle</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">node_interfaces</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">LifecycleNodeInterface</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">CallbackReturn</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">SUCCESS</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  rclcpp_lifecycle</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">node_interfaces</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">LifecycleNodeInterface</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">CallbackReturn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">on_cleanup</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> rclcpp_lifecycle</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">State </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> state</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Release resources</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    publisher_</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">reset</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">RCLCPP_INFO</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">get_logger</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;on_cleanup() is called.&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> rclcpp_lifecycle</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">node_interfaces</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">LifecycleNodeInterface</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">CallbackReturn</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">SUCCESS</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  rclcpp_lifecycle</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">LifecyclePublisher</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">std_msgs</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">msg</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">String</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">SharedPtr publisher_</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="advanced-middleware-concepts">Advanced Middleware Concepts<a href="#advanced-middleware-concepts" class="hash-link" aria-label="Direct link to Advanced Middleware Concepts" title="Direct link to Advanced Middleware Concepts" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="dds-configuration-for-robotics">DDS Configuration for Robotics<a href="#dds-configuration-for-robotics" class="hash-link" aria-label="Direct link to DDS Configuration for Robotics" title="Direct link to DDS Configuration for Robotics" translate="no">​</a></h3>
<p>DDS provides several configuration options that can significantly impact robotics performance:</p>
<ol>
<li class="">
<p><strong>Transport Protocols</strong>: DDS supports multiple transport protocols including UDP, TCP, shared memory, and others. For robotics applications:</p>
<ul>
<li class="">Shared memory within the same host machine</li>
<li class="">UDP for network communication with lower latency</li>
<li class="">TCP for guaranteed delivery (though with higher latency)</li>
</ul>
</li>
<li class="">
<p><strong>Domain Configuration</strong>: DDS domains partition communication to prevent interference between different applications:</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- example RMW configuration file --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dds</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">profiles</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">library</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">default library</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">profile</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">default profile</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">participant</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">is_default_profile</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">true</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">qos</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">builtin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">participant_security_attributes</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">is_security_activated</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">false</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">is_security_activated</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">participant_security_attributes</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">builtin</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">qos</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">participant</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">profile</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">profile</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">profiles</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dds</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre></div></div>
</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="middleware-integration-patterns">Middleware Integration Patterns<a href="#middleware-integration-patterns" class="hash-link" aria-label="Direct link to Middleware Integration Patterns" title="Direct link to Middleware Integration Patterns" translate="no">​</a></h3>
<p>For complex humanoid robots, multiple middleware systems might be integrated:</p>
<ol>
<li class=""><strong>ROS 2 with Other Frameworks</strong>: Integration with frameworks like ROS 1, Open Robotics Middleware (ORM), or proprietary systems</li>
<li class=""><strong>Hardware Abstraction</strong>: Integration with hardware-specific communication protocols</li>
<li class=""><strong>Cloud Integration</strong>: Communication with cloud services for data processing or remote operations</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="communication-optimization-techniques">Communication Optimization Techniques<a href="#communication-optimization-techniques" class="hash-link" aria-label="Direct link to Communication Optimization Techniques" title="Direct link to Communication Optimization Techniques" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="memory-management-in-high-frequency-communication">Memory Management in High-Frequency Communication<a href="#memory-management-in-high-frequency-communication" class="hash-link" aria-label="Direct link to Memory Management in High-Frequency Communication" title="Direct link to Memory Management in High-Frequency Communication" translate="no">​</a></h3>
<p>For humanoid robots with many sensors, memory allocation can become a bottleneck. Techniques include:</p>
<ol>
<li class=""><strong>Memory Pooling</strong>: Reusing allocated memory to reduce allocation overhead</li>
<li class=""><strong>Zero-Copy Communication</strong>: Direct memory sharing between publisher and subscriber</li>
<li class=""><strong>Message Preallocation</strong>: Pre-allocating messages for performance-critical pathways</li>
</ol>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Example of memory management optimization</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">OptimizedPublisher</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Preallocate messages for performance</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">vector</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">sensor_msgs</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">msg</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">JointState</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> preallocated_messages_</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  size_t current_message_index_ </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sensor_msgs</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">msg</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">JointState</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_next_message</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">auto</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> msg </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> preallocated_messages_</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">current_message_index_</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    current_message_index_ </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">current_message_index_ </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> preallocated_messages_</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> msg</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="data-serialization-optimization">Data Serialization Optimization<a href="#data-serialization-optimization" class="hash-link" aria-label="Direct link to Data Serialization Optimization" title="Direct link to Data Serialization Optimization" translate="no">​</a></h3>
<p>Efficient serialization is critical for high-frequency communication:</p>
<ol>
<li class=""><strong>Custom Serialization</strong>: Implementing custom serialization for frequently used message types</li>
<li class=""><strong>Message Compression</strong>: Compressing large messages (images, point clouds) when appropriate</li>
<li class=""><strong>Alternative Message Formats</strong>: Using more efficient formats like FlatBuffers or Cap&#x27;n Proto for performance-critical applications</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="communication-topology-optimization">Communication Topology Optimization<a href="#communication-topology-optimization" class="hash-link" aria-label="Direct link to Communication Topology Optimization" title="Direct link to Communication Topology Optimization" translate="no">​</a></h3>
<p>For humanoid robots with many joints and sensors, optimizing the communication topology can improve performance:</p>
<ol>
<li class=""><strong>Hierarchical Communication</strong>: Grouping related components to reduce overall message count</li>
<li class=""><strong>Multi-casting</strong>: Using multicast communication for data that needs to go to multiple subscribers</li>
<li class=""><strong>Load Balancing</strong>: Distributing communication load across multiple network interfaces or cores</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="advanced-security-concepts">Advanced Security Concepts<a href="#advanced-security-concepts" class="hash-link" aria-label="Direct link to Advanced Security Concepts" title="Direct link to Advanced Security Concepts" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ros-2-security-architecture">ROS 2 Security Architecture<a href="#ros-2-security-architecture" class="hash-link" aria-label="Direct link to ROS 2 Security Architecture" title="Direct link to ROS 2 Security Architecture" translate="no">​</a></h3>
<p>ROS 2 includes security features based on DDS Security specification:</p>
<ol>
<li class=""><strong>Authentication</strong>: Verifying the identity of nodes</li>
<li class=""><strong>Access Control</strong>: Controlling which nodes can access which topics/services</li>
<li class=""><strong>Encryption</strong>: Encrypting communication between nodes</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="implementing-ros-2-security">Implementing ROS 2 Security<a href="#implementing-ros-2-security" class="hash-link" aria-label="Direct link to Implementing ROS 2 Security" title="Direct link to Implementing ROS 2 Security" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Example of creating security files</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir -p ~/.ros/sros2_demo/keys</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/.ros/sros2_demo/keys</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ros2 security create_keystore my_keystore</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ros2 security create_key my_keystore talker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ros2 security create_key my_keystore listener</span><br></span></code></pre></div></div>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Security configuration file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;talker&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">permissions</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;talker_permissions.xml&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">authentication</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;talker.cert.pem&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;talker.key.pem&quot;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="security-best-practices">Security Best Practices<a href="#security-best-practices" class="hash-link" aria-label="Direct link to Security Best Practices" title="Direct link to Security Best Practices" translate="no">​</a></h3>
<ol>
<li class=""><strong>Principle of Least Privilege</strong>: Granting nodes only the permissions they need</li>
<li class=""><strong>Regular Certificate Rotation</strong>: Changing security certificates periodically</li>
<li class=""><strong>Network Segmentation</strong>: Isolating robot networks from general IT infrastructure</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="advanced-debugging-and-profiling-tools">Advanced Debugging and Profiling Tools<a href="#advanced-debugging-and-profiling-tools" class="hash-link" aria-label="Direct link to Advanced Debugging and Profiling Tools" title="Direct link to Advanced Debugging and Profiling Tools" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="real-time-system-profiling">Real-time System Profiling<a href="#real-time-system-profiling" class="hash-link" aria-label="Direct link to Real-time System Profiling" title="Direct link to Real-time System Profiling" translate="no">​</a></h3>
<p>For real-time robotics applications, specialized profiling tools are necessary:</p>
<ol>
<li class=""><strong>RTT (Real-Time Toolkit)</strong>: Tools for analyzing real-time behavior</li>
<li class=""><strong>Trace Analysis</strong>: Analyzing execution traces to identify bottlenecks</li>
<li class=""><strong>Latency Measurement</strong>: Measuring end-to-end communication latency</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="distributed-system-debugging">Distributed System Debugging<a href="#distributed-system-debugging" class="hash-link" aria-label="Direct link to Distributed System Debugging" title="Direct link to Distributed System Debugging" translate="no">​</a></h3>
<p>Humanoid robots often involve multiple computers, requiring distributed debugging techniques:</p>
<ol>
<li class=""><strong>Log Aggregation</strong>: Collecting logs from all systems for analysis</li>
<li class=""><strong>Distributed Tracing</strong>: Following messages across system boundaries</li>
<li class=""><strong>Synchronization Analysis</strong>: Analyzing timing relationships between distributed components</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="communication-patterns-for-humanoid-robotics">Communication Patterns for Humanoid Robotics<a href="#communication-patterns-for-humanoid-robotics" class="hash-link" aria-label="Direct link to Communication Patterns for Humanoid Robotics" title="Direct link to Communication Patterns for Humanoid Robotics" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="multi-layer-control-architecture">Multi-Layer Control Architecture<a href="#multi-layer-control-architecture" class="hash-link" aria-label="Direct link to Multi-Layer Control Architecture" title="Direct link to Multi-Layer Control Architecture" translate="no">​</a></h3>
<p>Humanoid robots typically use a multi-layer control architecture that requires coordinated communication:</p>
<ol>
<li class=""><strong>High-Level Planning</strong>: Path planning, task planning, motion planning</li>
<li class=""><strong>Mid-Level Control</strong>: Trajectory generation, balance control</li>
<li class=""><strong>Low-Level Control</strong>: Joint control, motor control</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="sensor-fusion-communication">Sensor Fusion Communication<a href="#sensor-fusion-communication" class="hash-link" aria-label="Direct link to Sensor Fusion Communication" title="Direct link to Sensor Fusion Communication" translate="no">​</a></h3>
<p>Humanoid robots integrate many sensors, requiring efficient communication patterns:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Example of sensor fusion communication pattern</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">SensorFusionNode</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token base-clause keyword" style="color:#00009f">public</span><span class="token base-clause"> rclcpp</span><span class="token base-clause double-colon punctuation" style="color:#393A34">::</span><span class="token base-clause class-name">Node</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">SensorFusionNode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Node</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;sensor_fusion_node&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Multiple sensor subscriptions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    imu_sub_ </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token generic-function function" style="color:#d73a49">create_subscription</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name">sensor_msgs</span><span class="token generic-function generic class-name double-colon punctuation" style="color:#393A34">::</span><span class="token generic-function generic class-name">msg</span><span class="token generic-function generic class-name double-colon punctuation" style="color:#393A34">::</span><span class="token generic-function generic class-name">Imu</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;imu/data&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">bind</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">SensorFusionNode</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">imu_callback</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">placeholders</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">_1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    joint_state_sub_ </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token generic-function function" style="color:#d73a49">create_subscription</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name">sensor_msgs</span><span class="token generic-function generic class-name double-colon punctuation" style="color:#393A34">::</span><span class="token generic-function generic class-name">msg</span><span class="token generic-function generic class-name double-colon punctuation" style="color:#393A34">::</span><span class="token generic-function generic class-name">JointState</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;joint_states&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">bind</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">SensorFusionNode</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">joint_callback</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">placeholders</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">_1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Publish fused state</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fused_state_pub_ </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token generic-function function" style="color:#d73a49">create_publisher</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name">geometry_msgs</span><span class="token generic-function generic class-name double-colon punctuation" style="color:#393A34">::</span><span class="token generic-function generic class-name">msg</span><span class="token generic-function generic class-name double-colon punctuation" style="color:#393A34">::</span><span class="token generic-function generic class-name">PoseStamped</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;fused_pose&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">imu_callback</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> sensor_msgs</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">msg</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">Imu</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">SharedPtr msg</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Process IMU data</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">joint_callback</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> sensor_msgs</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">msg</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">JointState</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">SharedPtr msg</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Process joint data</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  rclcpp</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">Subscription</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">sensor_msgs</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">msg</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">Imu</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">SharedPtr imu_sub_</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  rclcpp</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">Subscription</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">sensor_msgs</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">msg</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">JointState</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">SharedPtr joint_state_sub_</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  rclcpp</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">Publisher</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">geometry_msgs</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">msg</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">PoseStamped</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">SharedPtr fused_state_pub_</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="humanoid-specific-communication-architectures">Humanoid-Specific Communication Architectures<a href="#humanoid-specific-communication-architectures" class="hash-link" aria-label="Direct link to Humanoid-Specific Communication Architectures" title="Direct link to Humanoid-Specific Communication Architectures" translate="no">​</a></h3>
<p>Humanoid robots have specialized communication needs:</p>
<ol>
<li class=""><strong>Balance Control</strong>: High-frequency communication for maintaining balance</li>
<li class=""><strong>Kinematic Trees</strong>: Communication patterns that respect kinematic structure</li>
<li class=""><strong>Force Control</strong>: Communication for coordinated manipulation and locomotion</li>
<li class=""><strong>Multi-Modal Perception</strong>: Integration of vision, touch, proprioception</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="performance-optimization-strategies">Performance Optimization Strategies<a href="#performance-optimization-strategies" class="hash-link" aria-label="Direct link to Performance Optimization Strategies" title="Direct link to Performance Optimization Strategies" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="communication-frequency-optimization">Communication Frequency Optimization<a href="#communication-frequency-optimization" class="hash-link" aria-label="Direct link to Communication Frequency Optimization" title="Direct link to Communication Frequency Optimization" translate="no">​</a></h3>
<p>Optimizing communication frequency based on requirements:</p>
<ol>
<li class=""><strong>High-Frequency Needs</strong>: Balance control (200-1000Hz), joint control (100-200Hz)</li>
<li class=""><strong>Medium-Frequency Needs</strong>: State estimation (50-100Hz), some perception (10-50Hz)</li>
<li class=""><strong>Low-Frequency Needs</strong>: High-level planning (1-10Hz), configuration updates (0.1-1Hz)</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="network-optimization-for-multi-computer-systems">Network Optimization for Multi-Computer Systems<a href="#network-optimization-for-multi-computer-systems" class="hash-link" aria-label="Direct link to Network Optimization for Multi-Computer Systems" title="Direct link to Network Optimization for Multi-Computer Systems" translate="no">​</a></h3>
<p>For humanoid robots with distributed computing:</p>
<ol>
<li class=""><strong>Network Topology</strong>: Optimizing physical network connections</li>
<li class=""><strong>Quality of Service</strong>: Prioritizing critical communication</li>
<li class=""><strong>Redundancy</strong>: Using redundant communication paths for critical functions</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="future-directions-and-emerging-technologies">Future Directions and Emerging Technologies<a href="#future-directions-and-emerging-technologies" class="hash-link" aria-label="Direct link to Future Directions and Emerging Technologies" title="Direct link to Future Directions and Emerging Technologies" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ros-2-integration-with-aiml">ROS 2 Integration with AI/ML<a href="#ros-2-integration-with-aiml" class="hash-link" aria-label="Direct link to ROS 2 Integration with AI/ML" title="Direct link to ROS 2 Integration with AI/ML" translate="no">​</a></h3>
<p>Current trends in robotics involve deeper integration with AI and machine learning:</p>
<ol>
<li class=""><strong>ROS 2 for ML Workflows</strong>: Tools for training and deploying ML models in ROS 2</li>
<li class=""><strong>Simulation Integration</strong>: Better integration between simulation and real robots</li>
<li class=""><strong>Cloud Robotics</strong>: Integration with cloud computing resources</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="formal-verification-of-ros-2-systems">Formal Verification of ROS 2 Systems<a href="#formal-verification-of-ros-2-systems" class="hash-link" aria-label="Direct link to Formal Verification of ROS 2 Systems" title="Direct link to Formal Verification of ROS 2 Systems" translate="no">​</a></h3>
<p>As robotics becomes more safety-critical, formal verification becomes important:</p>
<ol>
<li class=""><strong>Model Checking</strong>: Verifying properties of robot communication</li>
<li class=""><strong>Runtime Verification</strong>: Monitoring system behavior during operation</li>
<li class=""><strong>Compositional Verification</strong>: Verifying complex systems from verified components</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="case-study-humanoid-robot-communication-architecture">Case Study: Humanoid Robot Communication Architecture<a href="#case-study-humanoid-robot-communication-architecture" class="hash-link" aria-label="Direct link to Case Study: Humanoid Robot Communication Architecture" title="Direct link to Case Study: Humanoid Robot Communication Architecture" translate="no">​</a></h2>
<p>Consider a humanoid robot with the following subsystems:</p>
<ul>
<li class="">20+ joints requiring coordinated control</li>
<li class="">Multiple cameras and depth sensors</li>
<li class="">Inertial measurement units</li>
<li class="">Force/torque sensors in feet and hands</li>
<li class="">LIDAR for environment perception</li>
<li class="">Audio input and output</li>
</ul>
<p>The communication architecture would involve:</p>
<ol>
<li class=""><strong>Sensor Nodes</strong>: Each sensor publishes to appropriate topics</li>
<li class=""><strong>Control Hierarchy</strong>: Joint controllers, balance controllers, motion planners</li>
<li class=""><strong>Fusion Nodes</strong>: Combining sensor data for state estimation</li>
<li class=""><strong>Planning Nodes</strong>: High-level task and motion planning</li>
<li class=""><strong>Actuation Nodes</strong>: Converting plans to joint commands</li>
</ol>
<p>This architecture would require careful QoS configuration:</p>
<ul>
<li class="">Joint control: Best-effort, volatile, minimal history</li>
<li class="">Balance control: Reliable, with bounded deadline</li>
<li class="">State information: Transient-local for late-joining nodes</li>
<li class="">High-level planning: Reliable, with appropriate durability</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="chapter-summary">Chapter Summary<a href="#chapter-summary" class="hash-link" aria-label="Direct link to Chapter Summary" title="Direct link to Chapter Summary" translate="no">​</a></h2>
<p>This deep-dive explored advanced ROS 2 concepts essential for complex robotics applications, particularly humanoid robots. We examined real-time performance considerations, advanced architectural patterns like lifecycle nodes and composition, middleware configuration for robotics, and security considerations. The chapter also covered optimization techniques for memory, serialization, and communication topologies, as well as debugging tools for distributed systems. Finally, we looked at humanoid-specific communication patterns and future directions in ROS 2 development.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="key-terms">Key Terms<a href="#key-terms" class="hash-link" aria-label="Direct link to Key Terms" title="Direct link to Key Terms" translate="no">​</a></h2>
<ul>
<li class="">Real-Time Communication</li>
<li class="">Lifecycle Nodes</li>
<li class="">Quality of Service (QoS) Configuration</li>
<li class="">DDS Middleware</li>
<li class="">Node Composition</li>
<li class="">Sensor Fusion</li>
<li class="">Formal Verification</li>
<li class="">Security Architecture</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="advanced-exercises">Advanced Exercises<a href="#advanced-exercises" class="hash-link" aria-label="Direct link to Advanced Exercises" title="Direct link to Advanced Exercises" translate="no">​</a></h2>
<ol>
<li class="">Implement a lifecycle node for humanoid joint control</li>
<li class="">Configure a ROS 2 system for real-time performance with appropriate QoS settings</li>
<li class="">Design a communication architecture for a full humanoid robot system</li>
<li class="">Implement a sensor fusion node integrating multiple sensor types</li>
</ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/RizSheik/humanoid-robotics-course/edit/main/docs/module-2-ros-2-fundamentals/deep-dive.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/humanoid-robotics-course/docs/module-2-ros-2-fundamentals/chapter-4"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Chapter 4: Actions and Complex Task Execution</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/humanoid-robotics-course/docs/module-2-ros-2-fundamentals/practical-lab"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Module 2: Practical Lab - ROS 2 Communication Patterns for Robotics</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#advanced-architecture-and-design-patterns" class="table-of-contents__link toc-highlight">Advanced Architecture and Design Patterns</a><ul><li><a href="#real-time-performance-with-ros-2" class="table-of-contents__link toc-highlight">Real-Time Performance with ROS 2</a></li><li><a href="#deterministic-communication-patterns" class="table-of-contents__link toc-highlight">Deterministic Communication Patterns</a></li><li><a href="#advanced-node-composition" class="table-of-contents__link toc-highlight">Advanced Node Composition</a></li><li><a href="#lifecycle-nodes" class="table-of-contents__link toc-highlight">Lifecycle Nodes</a></li></ul></li><li><a href="#advanced-middleware-concepts" class="table-of-contents__link toc-highlight">Advanced Middleware Concepts</a><ul><li><a href="#dds-configuration-for-robotics" class="table-of-contents__link toc-highlight">DDS Configuration for Robotics</a></li><li><a href="#middleware-integration-patterns" class="table-of-contents__link toc-highlight">Middleware Integration Patterns</a></li></ul></li><li><a href="#communication-optimization-techniques" class="table-of-contents__link toc-highlight">Communication Optimization Techniques</a><ul><li><a href="#memory-management-in-high-frequency-communication" class="table-of-contents__link toc-highlight">Memory Management in High-Frequency Communication</a></li><li><a href="#data-serialization-optimization" class="table-of-contents__link toc-highlight">Data Serialization Optimization</a></li><li><a href="#communication-topology-optimization" class="table-of-contents__link toc-highlight">Communication Topology Optimization</a></li></ul></li><li><a href="#advanced-security-concepts" class="table-of-contents__link toc-highlight">Advanced Security Concepts</a><ul><li><a href="#ros-2-security-architecture" class="table-of-contents__link toc-highlight">ROS 2 Security Architecture</a></li><li><a href="#implementing-ros-2-security" class="table-of-contents__link toc-highlight">Implementing ROS 2 Security</a></li><li><a href="#security-best-practices" class="table-of-contents__link toc-highlight">Security Best Practices</a></li></ul></li><li><a href="#advanced-debugging-and-profiling-tools" class="table-of-contents__link toc-highlight">Advanced Debugging and Profiling Tools</a><ul><li><a href="#real-time-system-profiling" class="table-of-contents__link toc-highlight">Real-time System Profiling</a></li><li><a href="#distributed-system-debugging" class="table-of-contents__link toc-highlight">Distributed System Debugging</a></li></ul></li><li><a href="#communication-patterns-for-humanoid-robotics" class="table-of-contents__link toc-highlight">Communication Patterns for Humanoid Robotics</a><ul><li><a href="#multi-layer-control-architecture" class="table-of-contents__link toc-highlight">Multi-Layer Control Architecture</a></li><li><a href="#sensor-fusion-communication" class="table-of-contents__link toc-highlight">Sensor Fusion Communication</a></li><li><a href="#humanoid-specific-communication-architectures" class="table-of-contents__link toc-highlight">Humanoid-Specific Communication Architectures</a></li></ul></li><li><a href="#performance-optimization-strategies" class="table-of-contents__link toc-highlight">Performance Optimization Strategies</a><ul><li><a href="#communication-frequency-optimization" class="table-of-contents__link toc-highlight">Communication Frequency Optimization</a></li><li><a href="#network-optimization-for-multi-computer-systems" class="table-of-contents__link toc-highlight">Network Optimization for Multi-Computer Systems</a></li></ul></li><li><a href="#future-directions-and-emerging-technologies" class="table-of-contents__link toc-highlight">Future Directions and Emerging Technologies</a><ul><li><a href="#ros-2-integration-with-aiml" class="table-of-contents__link toc-highlight">ROS 2 Integration with AI/ML</a></li><li><a href="#formal-verification-of-ros-2-systems" class="table-of-contents__link toc-highlight">Formal Verification of ROS 2 Systems</a></li></ul></li><li><a href="#case-study-humanoid-robot-communication-architecture" class="table-of-contents__link toc-highlight">Case Study: Humanoid Robot Communication Architecture</a></li><li><a href="#chapter-summary" class="table-of-contents__link toc-highlight">Chapter Summary</a></li><li><a href="#key-terms" class="table-of-contents__link toc-highlight">Key Terms</a></li><li><a href="#advanced-exercises" class="table-of-contents__link toc-highlight">Advanced Exercises</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Textbook</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/humanoid-robotics-course/docs/module-1-physical-ai-foundations/overview">Module 1: Physical AI Foundations</a></li><li class="footer__item"><a class="footer__link-item" href="/humanoid-robotics-course/docs/module-2-ros-2-fundamentals/overview">Module 2: ROS 2 Fundamentals</a></li><li class="footer__item"><a class="footer__link-item" href="/humanoid-robotics-course/docs/module-3-digital-twin-simulation/overview">Module 3: Digital Twin Simulation</a></li><li class="footer__item"><a class="footer__link-item" href="/humanoid-robotics-course/docs/module-4-ai-robot-brain/overview">Module 4: AI Robot Brain</a></li><li class="footer__item"><a class="footer__link-item" href="/humanoid-robotics-course/docs/capstone-the-autonomous-humanoid/capstone-overview">Capstone: The Autonomous Humanoid</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/humanoid-robotics-course/docs/appendices/hardware-requirements">Appendices</a></li><li class="footer__item"><a href="https://github.com/RizSheik/humanoid-robotics-course" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Physical AI & Humanoid Robotics — AI Systems in the Physical World. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>