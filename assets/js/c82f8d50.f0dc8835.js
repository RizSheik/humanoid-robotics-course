"use strict";(globalThis.webpackChunkhumanoid_robotics_course=globalThis.webpackChunkhumanoid_robotics_course||[]).push([[6693],{4273:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"module-2-ros-2-fundamentals/chapter-1","title":"Chapter 1: Introduction to ROS 2 Architecture and Middleware","description":"Learning Objectives","source":"@site/docs/module-2-ros-2-fundamentals/chapter-1.md","sourceDirName":"module-2-ros-2-fundamentals","slug":"/module-2-ros-2-fundamentals/chapter-1","permalink":"/humanoid-robotics-course/docs/module-2-ros-2-fundamentals/chapter-1","draft":false,"unlisted":false,"editUrl":"https://github.com/RizSheik/humanoid-robotics-course/edit/main/docs/module-2-ros-2-fundamentals/chapter-1.md","tags":[],"version":"current","frontMatter":{}}');var r=i(4848),o=i(8453);const t={},l="Chapter 1: Introduction to ROS 2 Architecture and Middleware",c={},a=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"1.1 History and Evolution of ROS",id:"11-history-and-evolution-of-ros",level:2},{value:"1.2 ROS 2 Architecture Overview",id:"12-ros-2-architecture-overview",level:2},{value:"1.2.1 Key Components",id:"121-key-components",level:3},{value:"1.2.2 Client Libraries",id:"122-client-libraries",level:3},{value:"1.3 DDS and Its Role in ROS 2",id:"13-dds-and-its-role-in-ros-2",level:2},{value:"1.3.1 Quality of Service (QoS) Settings",id:"131-quality-of-service-qos-settings",level:3},{value:"1.4 Nodes, Topics, Services, and Actions",id:"14-nodes-topics-services-and-actions",level:2},{value:"1.4.1 Nodes",id:"141-nodes",level:3},{value:"1.4.2 Topics",id:"142-topics",level:3},{value:"1.4.3 Services",id:"143-services",level:3},{value:"1.4.4 Actions",id:"144-actions",level:3},{value:"1.5 Setting Up a ROS 2 Environment",id:"15-setting-up-a-ros-2-environment",level:2},{value:"1.5.1 Installation",id:"151-installation",level:3},{value:"1.5.2 Development Workspace",id:"152-development-workspace",level:3},{value:"1.6 Package Structure",id:"16-package-structure",level:2},{value:"1.7 Basic ROS 2 Commands",id:"17-basic-ros-2-commands",level:2},{value:"1.8 ROS 2 Tools for Development and Debugging",id:"18-ros-2-tools-for-development-and-debugging",level:2},{value:"1.9 ROS 2 for Humanoid Robotics",id:"19-ros-2-for-humanoid-robotics",level:2},{value:"Chapter Summary",id:"chapter-summary",level:2},{value:"Key Terms",id:"key-terms",level:2},{value:"Discussion Questions",id:"discussion-questions",level:2},{value:"References",id:"references",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"chapter-1-introduction-to-ros-2-architecture-and-middleware",children:"Chapter 1: Introduction to ROS 2 Architecture and Middleware"})}),"\n",(0,r.jsx)("div",{className:"robotDiagram",children:(0,r.jsx)("img",{src:"../../../img/book-image/Leonardo_Lightning_XL_Full_architecture_overview_workstation_e_0.jpg",alt:"Humanoid Robot",style:{borderRadius:"50px",width:"900px",height:"350px",margin:"10px auto",display:"block"}})}),"\n",(0,r.jsx)(n.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,r.jsx)(n.p,{children:"After completing this chapter, students will be able to:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Explain the architecture of ROS 2 and how it differs from ROS 1"}),"\n",(0,r.jsx)(n.li,{children:"Identify the key components of the ROS 2 system"}),"\n",(0,r.jsx)(n.li,{children:"Understand the role of DDS in ROS 2"}),"\n",(0,r.jsx)(n.li,{children:"Describe the concept of nodes, packages, and workspaces in ROS 2"}),"\n",(0,r.jsx)(n.li,{children:"Set up a basic ROS 2 development environment"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"11-history-and-evolution-of-ros",children:"1.1 History and Evolution of ROS"}),"\n",(0,r.jsx)(n.p,{children:"The Robot Operating System (ROS) began as a project at Stanford University in 2007 and was later developed by Willow Garage. Originally designed as a flexible framework for writing robot software, ROS became the de facto standard for robotics development due to its rich set of tools, libraries, and conventions."}),"\n",(0,r.jsx)(n.p,{children:"ROS 1 was designed with a focus on rapid prototyping and research, using a centralized master architecture with TCPROS/UDPROS as the communication layer. However, as robotics applications became more complex and safety-critical, limitations of ROS 1 became apparent, including:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Single point of failure with the master node"}),"\n",(0,r.jsx)(n.li,{children:"Lack of security features"}),"\n",(0,r.jsx)(n.li,{children:"Real-time limitations"}),"\n",(0,r.jsx)(n.li,{children:"Non-deterministic behavior"}),"\n",(0,r.jsx)(n.li,{children:"Limited support for multi-robot systems"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"ROS 2 was developed to address these limitations, with a focus on:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Production-readiness"}),"\n",(0,r.jsx)(n.li,{children:"Real-time capabilities"}),"\n",(0,r.jsx)(n.li,{children:"Security and authentication"}),"\n",(0,r.jsx)(n.li,{children:"Improved reliability"}),"\n",(0,r.jsx)(n.li,{children:"Support for commercial applications"}),"\n",(0,r.jsx)(n.li,{children:"Better multi-robot systems support"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"12-ros-2-architecture-overview",children:"1.2 ROS 2 Architecture Overview"}),"\n",(0,r.jsx)(n.p,{children:"ROS 2 uses a distributed architecture based on the Data Distribution Service (DDS) standard. Unlike ROS 1's centralized master, ROS 2 has no single point of failure. Each node discovers other nodes directly using DDS discovery mechanisms."}),"\n",(0,r.jsx)(n.h3,{id:"121-key-components",children:"1.2.1 Key Components"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Nodes"}),": The fundamental execution units in ROS 2. A node is an executable that uses ROS 2 client libraries to communicate with other nodes. Nodes can publish/subscribe to topics, provide/call services, and execute actions."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"DDS (Data Distribution Service)"}),": A vendor-neutral communications middleware that provides a publish-subscribe model. DDS implementations in ROS 2 handle discovery, data serialization, and communication reliability."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Packages"}),": Organize ROS 2 code into reusable, manageable units. Each package contains a ",(0,r.jsx)(n.code,{children:"package.xml"})," manifest and a ",(0,r.jsx)(n.code,{children:"CMakeLists.txt"})," or ",(0,r.jsx)(n.code,{children:"setup.py"})," for build configuration."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Workspaces"}),": Directories containing multiple packages, typically organized in a source (",(0,r.jsx)(n.code,{children:"src"}),") directory."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Launch files"}),": Allow starting multiple nodes and configuring parameters together."]}),"\n",(0,r.jsx)(n.h3,{id:"122-client-libraries",children:"1.2.2 Client Libraries"}),"\n",(0,r.jsx)(n.p,{children:"ROS 2 supports multiple client libraries for different languages:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"rclcpp"}),": C++ client library"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"rclpy"}),": Python client library"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"rcl"}),": C implementation that other languages can wrap"]}),"\n",(0,r.jsx)(n.li,{children:"Additional language support available through ROS 2 ecosystem"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"13-dds-and-its-role-in-ros-2",children:"1.3 DDS and Its Role in ROS 2"}),"\n",(0,r.jsx)(n.p,{children:"DDS (Data Distribution Service) is a middleware standard for real-time, distributed, and embedded systems. In ROS 2, DDS handles:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Discovery"}),": Automatic discovery of publishers and subscribers"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Data distribution"}),": Reliable data delivery"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Quality of Service (QoS)"}),": Configurable policies for reliability, durability, deadline, liveliness, etc."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Security"}),": Authentication, access control, and encryption"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"131-quality-of-service-qos-settings",children:"1.3.1 Quality of Service (QoS) Settings"}),"\n",(0,r.jsx)(n.p,{children:"QoS settings allow fine-tuning of communication behavior:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Reliability"}),': Either "best effort" or "reliable"']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Durability"}),': Either "volatile" or "transient_local"']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Deadline"}),": Time bounds for data delivery"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Liveliness"}),": How long to wait for participants to respond"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"History"}),": How many samples to keep"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Depth"}),": Used with history policy to set buffer size"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"14-nodes-topics-services-and-actions",children:"1.4 Nodes, Topics, Services, and Actions"}),"\n",(0,r.jsx)(n.h3,{id:"141-nodes",children:"1.4.1 Nodes"}),"\n",(0,r.jsx)(n.p,{children:"Nodes are the fundamental building blocks of ROS 2. Each node represents a single process that performs computation. Nodes communicate with each other through:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Topics (pub/sub model)"}),"\n",(0,r.jsx)(n.li,{children:"Services (request/response model)"}),"\n",(0,r.jsx)(n.li,{children:"Actions (goal-based model)"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"142-topics",children:"1.4.2 Topics"}),"\n",(0,r.jsx)(n.p,{children:"Topics enable asynchronous communication between nodes using a publish-subscribe model. Publishers send messages to topics, and subscribers receive messages from topics. Multiple publishers and subscribers can use the same topic."}),"\n",(0,r.jsx)(n.h3,{id:"143-services",children:"1.4.3 Services"}),"\n",(0,r.jsx)(n.p,{children:"Services provide synchronous request-response communication. A client sends a request to a service server, which processes the request and sends back a response. This is useful for one-off computations or queries."}),"\n",(0,r.jsx)(n.h3,{id:"144-actions",children:"1.4.4 Actions"}),"\n",(0,r.jsx)(n.p,{children:"Actions handle long-running tasks with goal, feedback, and result patterns. Actions are useful for tasks that take time to complete and may need to be preempted or monitored during execution."}),"\n",(0,r.jsx)(n.h2,{id:"15-setting-up-a-ros-2-environment",children:"1.5 Setting Up a ROS 2 Environment"}),"\n",(0,r.jsx)(n.h3,{id:"151-installation",children:"1.5.1 Installation"}),"\n",(0,r.jsx)(n.p,{children:"ROS 2 can be installed via packages or source. The recommended approach is installing via packages:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Set up locale and sources"}),"\n",(0,r.jsx)(n.li,{children:"Add the ROS 2 apt repository"}),"\n",(0,r.jsx)(n.li,{children:"Install ROS 2 packages"}),"\n",(0,r.jsx)(n.li,{children:"Source the ROS 2 setup script"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"152-development-workspace",children:"1.5.2 Development Workspace"}),"\n",(0,r.jsx)(n.p,{children:"A typical ROS 2 development workspace follows this structure:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"workspace_name/        # e.g., ~/ros2_ws\n  src/                 # Source code\n    package_1/\n    package_2/\n    ...\n"})}),"\n",(0,r.jsx)(n.p,{children:"To create a workspace:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"mkdir -p ~/ros2_ws/src\ncd ~/ros2_ws\ncolcon build\nsource install/setup.bash\n"})}),"\n",(0,r.jsx)(n.h2,{id:"16-package-structure",children:"1.6 Package Structure"}),"\n",(0,r.jsx)(n.p,{children:"ROS 2 packages contain the following structure:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"package_name/\n  CMakeLists.txt     # Build configuration for C++\n  package.xml        # Package manifest\n  src/               # Source code\n  include/           # Header files (C++)\n  launch/            # Launch files\n  config/            # Configuration files\n  test/              # Test files\n"})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"package.xml"})," file contains metadata about the package:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<?xml-model href="http://download.ros.org/schema/package_format3.xsd" schematypens="http://www.w3.org/2001/XMLSchema"?>\n<package format="3">\n  <name>my_package</name>\n  <version>0.0.0</version>\n  <description>Example package</description>\n  <maintainer email="user@example.com">User Name</maintainer>\n  <license>Apache License 2.0</license>\n\n  <depend>rclcpp</depend>\n  <depend>std_msgs</depend>\n\n  <export>\n    <build_type>ament_cmake</build_type>\n  </export>\n</package>\n'})}),"\n",(0,r.jsx)(n.h2,{id:"17-basic-ros-2-commands",children:"1.7 Basic ROS 2 Commands"}),"\n",(0,r.jsx)(n.p,{children:"Common ROS 2 commands include:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ros2 run package_name executable_name"})," - Run a node"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ros2 topic list"})," - List active topics"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ros2 service list"})," - List available services"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ros2 action list"})," - List active actions"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ros2 node list"})," - List active nodes"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ros2 launch package_name launch_file.py"})," - Launch nodes from a file"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"18-ros-2-tools-for-development-and-debugging",children:"1.8 ROS 2 Tools for Development and Debugging"}),"\n",(0,r.jsx)(n.p,{children:"ROS 2 includes many tools for development and debugging:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ros2 topic"}),": List, inspect, and publish to topics"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ros2 service"}),": List and call services"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ros2 action"}),": List and send goals to actions"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"rqt"}),": Graphical user interface for ROS 2"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"rviz2"}),": 3D visualization tool"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ros2 bag"}),": Recorder and player for ROS 2 data"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ros2 doctor"}),": Diagnostics tool for ROS 2 system"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"19-ros-2-for-humanoid-robotics",children:"1.9 ROS 2 for Humanoid Robotics"}),"\n",(0,r.jsx)(n.p,{children:"For humanoid robots, ROS 2 architecture provides several key advantages:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Distributed Processing"}),": Different robot subsystems (perception, planning, control) can run on different computers"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Modularity"}),": Components can be developed and tested independently"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Flexibility"}),": New sensors and capabilities can be integrated easily"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Real-time Performance"}),": With appropriate configuration, ROS 2 can meet real-time requirements"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Safety"}),": Proper QoS settings and security features can enhance safety-critical operations"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"chapter-summary",children:"Chapter Summary"}),"\n",(0,r.jsx)(n.p,{children:"This chapter introduced the fundamental architecture of ROS 2, highlighting its differences from ROS 1 and its use of DDS for distributed communication. We covered the key components including nodes, packages, and workspaces, and explained how QoS settings allow fine-tuning of communication behavior. The chapter concluded with an overview of how ROS 2 is particularly well-suited for the complex communication needs of humanoid robots."}),"\n",(0,r.jsx)(n.h2,{id:"key-terms",children:"Key Terms"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Robot Operating System 2 (ROS 2)"}),"\n",(0,r.jsx)(n.li,{children:"Data Distribution Service (DDS)"}),"\n",(0,r.jsx)(n.li,{children:"Quality of Service (QoS)"}),"\n",(0,r.jsx)(n.li,{children:"Nodes"}),"\n",(0,r.jsx)(n.li,{children:"Topics"}),"\n",(0,r.jsx)(n.li,{children:"Services"}),"\n",(0,r.jsx)(n.li,{children:"Actions"}),"\n",(0,r.jsx)(n.li,{children:"Client Libraries"}),"\n",(0,r.jsx)(n.li,{children:"Workspace"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"discussion-questions",children:"Discussion Questions"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"How does the distributed architecture of ROS 2 improve reliability compared to ROS 1?"}),"\n",(0,r.jsx)(n.li,{children:"What are the advantages and disadvantages of using DDS as the middleware?"}),"\n",(0,r.jsx)(n.li,{children:"How do Quality of Service settings affect communication in robotic systems?"}),"\n",(0,r.jsx)(n.li,{children:"Why is modularity important for humanoid robotics applications?"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["ROS 2 Documentation: ",(0,r.jsx)(n.a,{href:"https://docs.ros.org/",children:"https://docs.ros.org/"})]}),"\n",(0,r.jsxs)(n.li,{children:["DDS Specification: ",(0,r.jsx)(n.a,{href:"https://www.omg.org/spec/DDS/",children:"https://www.omg.org/spec/DDS/"})]}),"\n",(0,r.jsx)(n.li,{children:"Faust, A., Tapus, A., Burdick, J. W., & Matari\u0107, M. J. (2010). Aided navigation for elderly people."}),"\n",(0,r.jsx)(n.li,{children:"Quigley, M., Gerkey, B., & Smart, W. D. (2015). Programming robots with ROS."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>l});var s=i(6540);const r={},o=s.createContext(r);function t(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);